{"ast":null,"code":"var _jsxFileName = \"/Users/kathryncrisafulli/Desktop/clueless_git/UnitedCoders/clueless_react/src/Prompts.js\";\nimport React from \"react\";\nimport Prompt from \"./Prompt\";\nimport CardMapper from \"./CardMapper\";\n\nclass Prompts extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      show_cards: false,\n      cards: [],\n      show_revoked: false,\n      revoked_message: {},\n      show_end: false,\n      end_message: {}\n    };\n    this.displayCards = this.displayCards.bind(this);\n    this.displayDisprove = this.displayDisprove.bind(this);\n    this.displayRevoked = this.displayRevoked.bind(this);\n    this.displayEndGame = this.displayEndGame.bind(this);\n    this.handleClickShow = this.handleClickShow.bind(this);\n  }\n\n  displayCards() {\n    //.log(\"displaycards\");\n    let items = this.state.cards.map(card => {\n      CardMapper.generateIdMap();\n      var imgLocation = \"./CardImages/\" + CardMapper.getCardImgById(card);\n      return /*#__PURE__*/React.createElement(\"img\", {\n        src: imgLocation,\n        width: \"120\",\n        height: \"150\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 14\n        }\n      });\n    }, this); //let items = <p>{JSON.stringify(this.state.cards)}</p>\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }\n    }, \"The game has started! Here are your cards:\"), items);\n  }\n\n  displayDisprove() {\n    //console.log(\"displaydisprove\");\n    var card = \"./CardImages/\" + CardMapper.getCardImgById(this.state.disprove_message.message.disprove_card);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, \"Player \", this.state.disprove_message.message.disproving_player, \" disproved this card:\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: card,\n      width: \"120\",\n      height: \"150\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }));\n  } //Sending game message to client 1:{\"game_id\":0,\"player_id\":1,\"message_type\":51,\"message\":{\"is_disproved\":true,\"disprove_card\":\"1\",\"disproving_player\":\"sadfds\"}}\n\n\n  displayRevoked() {\n    CardMapper.generateIdMap();\n    var room = \"./CardImages/\" + CardMapper.getCardImgById(this.state.revoked_message.message.correct_room);\n    var weapon = \"./CardImages/\" + CardMapper.getCardImgById(this.state.revoked_message.message.correct_weapon);\n    var character = \"./CardImages/\" + CardMapper.getCardImgById(this.state.revoked_message.message.correct_character);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, \"Revoked! Here's the envelope cards: \"), /*#__PURE__*/React.createElement(\"img\", {\n      src: room,\n      width: \"120\",\n      height: \"150\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: weapon,\n      width: \"120\",\n      height: \"150\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: character,\n      width: \"120\",\n      height: \"150\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  displayEndGame() {\n    CardMapper.generateIdMap();\n    var room = \"./CardImages/\" + CardMapper.getCardImgById(this.state.end_message.message.correct_room);\n    var weapon = \"./CardImages/\" + CardMapper.getCardImgById(this.state.end_message.message.correct_weapon);\n    var character = \"./CardImages/\" + CardMapper.getCardImgById(this.state.end_message.message.correct_character);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, \"Player \", this.state.end_message.message.winning_player, \" won! Here's the envelope cards:\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: room,\n      width: \"120\",\n      height: \"150\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: weapon,\n      width: \"120\",\n      height: \"150\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: character,\n      width: \"120\",\n      height: \"150\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    var newcards = state.cards;\n    var newshowcards = state.show_cards;\n    var newshowdisprove = state.show_disprove;\n    var newdisprovemessage = state.disprove_message;\n    var newshowrevoked = state.show_revoked;\n    var newrevokedmessage = state.revoked_message;\n    var newshowend = state.show_end;\n    var newendmessage = state.end_message;\n\n    if (props.cards != undefined) {\n      //console.log(JSON.stringify(props));\n      //console.log(JSON.stringify(state));\n      if (props.cards != state.cards) {\n        //console.log(\"PromptCards\");\n        newcards = props.cards;\n        newshowcards = true;\n      }\n    }\n\n    var first = props.actions[0];\n\n    if (first != undefined) {\n      if (first.message_type == 51) {\n        console.log(\"Prompt 51\" + JSON.stringify(first)); // “is_disproven”:\n        // “disprove_card”:\n\n        if (first.message.is_disproved === true) {\n          console.log(\"Promptdisprove\"); //console.log(\"PromptDisprove\");\n\n          newshowdisprove = true;\n          newdisprovemessage = first;\n        }\n      } else if (first.message_type == 52) {\n        // “accusation_correct”:\n        // “correct_room”:\n        // “correct_character”:\n        // “correct_weapon”:\n        if (first.message.accusation_correct === false) {\n          //console.log(\"PromptRevoked\");\n          newshowrevoked = true;\n          newrevokedmessage = first;\n        }\n      } else if (first.message_type == 61) {\n        //   “game_over”:\n        //   “winning_player”:\n        //   “correct_room”:\n        //   “correct_character”:\n        //   “correct_weapon”:\n        //console.log(\"PromptEnd\");\n        newshowend = true;\n        newendmessage = first;\n      }\n    }\n\n    return {\n      show_cards: newshowcards,\n      cards: newcards,\n      show_disprove: newshowdisprove,\n      disprove_message: newdisprovemessage,\n      show_revoked: newshowrevoked,\n      revoked_message: newrevokedmessage,\n      show_end: newshowend,\n      end_message: newendmessage\n    };\n  }\n\n  handleClickShow(evt) {\n    console.log(\"PROMPT CALLBACK\");\n    this.setState({\n      show_cards: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Prompt, {\n      show: this.state.show_cards,\n      callback: this.handleClickShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }\n    }, this.displayCards()), this.state.show_disprove ? /*#__PURE__*/React.createElement(Prompt, {\n      show: this.state.show_disprove,\n      callback: this.handleClickShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, this.displayDisprove()) : null, this.state.show_revoked ? /*#__PURE__*/React.createElement(Prompt, {\n      show: this.state.show_revoked,\n      callback: this.handleClickShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }\n    }, this.displayRevoked()) : null, this.state.show_end ? /*#__PURE__*/React.createElement(Prompt, {\n      show: this.state.show_end,\n      callback: this.handleClickShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 32\n      }\n    }, this.displayEndGame()) : null);\n  }\n\n}\n\nexport default Prompts; // import React from \"react\";\n// class Popup extends React.Component {\n//   render() {\n//     return (\n//       <div className=\"popup\">\n//         <div className=\"popup_inner\">\n//           <h1>{this.props.text}</h1>\n//           <button onClick={this.props.closePopup}>close me</button>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n// class Test extends React.Component {\n//   constructor() {\n//     super();\n//     this.state = {\n//       showPopup: false,\n//     };\n//   }\n//   togglePopup() {\n//     console.log(\"HI\")\n//     this.setState({\n//       //showPopup: !this.state.showPopup,\n//       showPopup: false,\n//     });\n//   }\n//   static getDerivedStateFromProps(props, state) {\n//     // <EndGamePrompt final_message={this.state.final_message} show={this.state.show}/>\n//     console.log(\"TESTPOPUP\");\n//     console.log(JSON.stringify(props));\n//     console.log(JSON.stringify(state));\n//     var newshowPopup = state.showPopup;\n//     if (props.show === true) {\n//       newshowPopup = true;\n//     }\n//     return {showPopup: newshowPopup}\n//   }\n//   render() {\n//     return (\n//       <div className=\"app\">\n//         <h1>hihi</h1>\n//         <button onClick={this.togglePopup.bind(this)}>show popup</button>\n//         {this.state.showPopup ? (\n//           <Popup text=\"Close Me\" closePopup={this.togglePopup.bind(this)} />\n//         ) : null}\n//       </div>\n//     );\n//   }\n// }\n// export default Test;","map":{"version":3,"sources":["/Users/kathryncrisafulli/Desktop/clueless_git/UnitedCoders/clueless_react/src/Prompts.js"],"names":["React","Prompt","CardMapper","Prompts","Component","constructor","state","show_cards","cards","show_revoked","revoked_message","show_end","end_message","displayCards","bind","displayDisprove","displayRevoked","displayEndGame","handleClickShow","items","map","card","generateIdMap","imgLocation","getCardImgById","disprove_message","message","disprove_card","disproving_player","room","correct_room","weapon","correct_weapon","character","correct_character","winning_player","getDerivedStateFromProps","props","newcards","newshowcards","newshowdisprove","show_disprove","newdisprovemessage","newshowrevoked","newrevokedmessage","newshowend","newendmessage","undefined","first","actions","message_type","console","log","JSON","stringify","is_disproved","accusation_correct","evt","setState","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Prompt from \"./Prompt\";\nimport CardMapper from \"./CardMapper\";\n\nclass Prompts extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      show_cards: false,\n      cards: [],\n      show_revoked: false,\n      revoked_message: {},\n      show_end: false,\n      end_message: {},\n    };\n    this.displayCards = this.displayCards.bind(this);\n    this.displayDisprove = this.displayDisprove.bind(this);\n    this.displayRevoked = this.displayRevoked.bind(this);\n    this.displayEndGame = this.displayEndGame.bind(this);\n    this.handleClickShow = this.handleClickShow.bind(this);\n  }\n\n  displayCards() {\n    //.log(\"displaycards\");\n    let items = this.state.cards.map((card) => {\n      CardMapper.generateIdMap();\n      var imgLocation = \"./CardImages/\" + CardMapper.getCardImgById(card);\n      return <img src={imgLocation} width=\"120\" height=\"150\" />;\n    }, this);\n    //let items = <p>{JSON.stringify(this.state.cards)}</p>\n    return (\n      <div>\n        <p>The game has started! Here are your cards:</p>\n        {items}\n      </div>\n    );\n  }\n\n  displayDisprove() {\n    //console.log(\"displaydisprove\");\n    var card =\n      \"./CardImages/\" +\n      CardMapper.getCardImgById(\n        this.state.disprove_message.message.disprove_card\n      );\n    return (\n      <div>\n        <p>Player {this.state.disprove_message.message.disproving_player} disproved this card:</p>\n        <img src={card} width=\"120\" height=\"150\" />\n      </div>\n    );\n  }\n\n  //Sending game message to client 1:{\"game_id\":0,\"player_id\":1,\"message_type\":51,\"message\":{\"is_disproved\":true,\"disprove_card\":\"1\",\"disproving_player\":\"sadfds\"}}\n\n  displayRevoked() {\n    CardMapper.generateIdMap();\n    var room =\n      \"./CardImages/\" +\n      CardMapper.getCardImgById(\n        this.state.revoked_message.message.correct_room\n      );\n    var weapon =\n      \"./CardImages/\" +\n      CardMapper.getCardImgById(\n        this.state.revoked_message.message.correct_weapon\n      );\n    var character =\n      \"./CardImages/\" +\n      CardMapper.getCardImgById(\n        this.state.revoked_message.message.correct_character\n      );\n    return (\n      <div>\n        <p>Revoked! Here's the envelope cards: </p>\n        <img src={room} width=\"120\" height=\"150\" />\n        <img src={weapon} width=\"120\" height=\"150\" />\n        <img src={character} width=\"120\" height=\"150\" />\n      </div>\n    );\n  }\n\n  displayEndGame() {\n    CardMapper.generateIdMap();\n    var room =\n      \"./CardImages/\" +\n      CardMapper.getCardImgById(this.state.end_message.message.correct_room);\n    var weapon =\n      \"./CardImages/\" +\n      CardMapper.getCardImgById(this.state.end_message.message.correct_weapon);\n    var character =\n      \"./CardImages/\" +\n      CardMapper.getCardImgById(\n        this.state.end_message.message.correct_character\n      );\n    return (\n      <div>\n        <p>\n          Player {this.state.end_message.message.winning_player} won! Here's the\n          envelope cards:\n        </p>\n        <img src={room} width=\"120\" height=\"150\" />\n        <img src={weapon} width=\"120\" height=\"150\" />\n        <img src={character} width=\"120\" height=\"150\" />\n      </div>\n    );\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    var newcards = state.cards;\n    var newshowcards = state.show_cards;\n    var newshowdisprove = state.show_disprove;\n    var newdisprovemessage = state.disprove_message;\n    var newshowrevoked = state.show_revoked;\n    var newrevokedmessage = state.revoked_message;\n    var newshowend = state.show_end;\n    var newendmessage = state.end_message;\n\n    if (props.cards != undefined) {\n      //console.log(JSON.stringify(props));\n      //console.log(JSON.stringify(state));\n      if (props.cards != state.cards) {\n        //console.log(\"PromptCards\");\n        newcards = props.cards;\n        newshowcards = true;\n      }\n    }\n\n    var first = props.actions[0];\n    if (first != undefined) {\n      if (first.message_type == 51) {\n        console.log(\"Prompt 51\" + JSON.stringify(first))\n        // “is_disproven”:\n        // “disprove_card”:\n        if (first.message.is_disproved === true) {\n          console.log(\"Promptdisprove\")\n          //console.log(\"PromptDisprove\");\n          newshowdisprove = true;\n          newdisprovemessage = first;\n        }\n      } else if (first.message_type == 52) {\n        // “accusation_correct”:\n        // “correct_room”:\n        // “correct_character”:\n        // “correct_weapon”:\n        if (first.message.accusation_correct === false) {\n          //console.log(\"PromptRevoked\");\n          newshowrevoked = true;\n          newrevokedmessage = first;\n        }\n      } else if (first.message_type == 61) {\n        //   “game_over”:\n        //   “winning_player”:\n        //   “correct_room”:\n        //   “correct_character”:\n        //   “correct_weapon”:\n        //console.log(\"PromptEnd\");\n        newshowend = true;\n        newendmessage = first;\n      }\n    }\n\n    return {\n      show_cards: newshowcards,\n      cards: newcards,\n      show_disprove: newshowdisprove,\n      disprove_message: newdisprovemessage,\n      show_revoked: newshowrevoked,\n      revoked_message: newrevokedmessage,\n      show_end: newshowend,\n      end_message: newendmessage,\n    };\n  }\n\n  handleClickShow(evt) {\n    console.log(\"PROMPT CALLBACK\")\n    this.setState({show_cards: false})\n  }\n\n  render() {\n    return (\n      <div>\n        <Prompt show={this.state.show_cards} callback={this.handleClickShow}>{this.displayCards()}</Prompt>\n        {this.state.show_disprove ? (\n          <Prompt show={this.state.show_disprove} callback={this.handleClickShow}>{this.displayDisprove()}</Prompt>\n        ) : null}\n        {this.state.show_revoked ? (\n          <Prompt show={this.state.show_revoked} callback={this.handleClickShow}>{this.displayRevoked()}</Prompt>\n        ) : null}\n        {this.state.show_end ? <Prompt show={this.state.show_end} callback={this.handleClickShow}>{this.displayEndGame()}</Prompt> : null}\n      </div>\n    );\n  }\n}\nexport default Prompts;\n\n// import React from \"react\";\n// class Popup extends React.Component {\n//   render() {\n//     return (\n//       <div className=\"popup\">\n//         <div className=\"popup_inner\">\n//           <h1>{this.props.text}</h1>\n//           <button onClick={this.props.closePopup}>close me</button>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n// class Test extends React.Component {\n//   constructor() {\n//     super();\n//     this.state = {\n//       showPopup: false,\n//     };\n//   }\n//   togglePopup() {\n//     console.log(\"HI\")\n//     this.setState({\n//       //showPopup: !this.state.showPopup,\n//       showPopup: false,\n//     });\n//   }\n//   static getDerivedStateFromProps(props, state) {\n//     // <EndGamePrompt final_message={this.state.final_message} show={this.state.show}/>\n//     console.log(\"TESTPOPUP\");\n//     console.log(JSON.stringify(props));\n//     console.log(JSON.stringify(state));\n\n//     var newshowPopup = state.showPopup;\n//     if (props.show === true) {\n//       newshowPopup = true;\n//     }\n\n//     return {showPopup: newshowPopup}\n//   }\n\n//   render() {\n//     return (\n//       <div className=\"app\">\n//         <h1>hihi</h1>\n//         <button onClick={this.togglePopup.bind(this)}>show popup</button>\n\n//         {this.state.showPopup ? (\n//           <Popup text=\"Close Me\" closePopup={this.togglePopup.bind(this)} />\n//         ) : null}\n//       </div>\n//     );\n//   }\n// }\n// export default Test;\n"]},"metadata":{},"sourceType":"module"}