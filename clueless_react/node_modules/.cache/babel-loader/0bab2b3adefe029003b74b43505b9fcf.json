{"ast":null,"code":"var _jsxFileName = \"/Users/kathryncrisafulli/Desktop/clueless_git/UnitedCoders/clueless_react/src/MapExample.js\";\nimport React from \"react\";\nimport ImageMapper from 'react-image-mapper';\nimport { positional } from \"yargs\";\nimport { makeMovement, makeSuggestion, makeAccusation, makeDisprove } from './ClientManager'; //All rooms and Hallways codes. Sequence is important - Please don't change them.\n\nvar roomCode = ['11', '12', '13', '21', '22', '23', '31', '32', '33', '1112', '1213', '1121', '1222', '1323', '2122', '2223', '2131', '2232', '2333', '3132', '3233']; //All rooms and Hallways locations to put objects. Sequence is important - Please don't change them.\n\nvar roomArra = {\n  \"11\": [103, 241, 273, 426],\n  \"12\": [379, 300, 585, 455],\n  \"13\": [691, 235, 853, 394],\n  \"21\": [103, 541, 337, 716],\n  \"22\": [423, 544, 561, 715],\n  \"23\": [674, 510, 828, 660],\n  \"31\": [103, 835, 305, 1011],\n  \"32\": [385, 796, 569, 995],\n  \"33\": [640, 892, 861, 1017],\n  \"1112\": [304, 374, 304, 374],\n  \"1213\": [625, 374, 625, 374],\n  \"1121\": [219, 460, 219, 460],\n  \"1222\": [543, 479, 543, 479],\n  \"1323\": [735, 440, 735, 440],\n  \"2122\": [365, 599, 365, 599],\n  \"2223\": [591, 567, 591, 567],\n  \"2131\": [284, 753, 284, 753],\n  \"2232\": [444, 741, 444, 741],\n  \"2333\": [680, 725, 680, 725],\n  \"3132\": [335, 924, 335, 924],\n  \"3233\": [590, 923, 590, 923]\n}; //All valid rooms and hallways to move in (based on player's current location). Sequence is important - Please don't change them.\n\nvar roomAccess = {\n  \"11\": ['1112', '1121', '33'],\n  \"12\": ['1112', '1222', '1213'],\n  \"13\": ['1213', '1323', '31'],\n  \"21\": ['1121', '2122', '2131'],\n  \"22\": ['2122', '1222', '2223', '2232'],\n  \"23\": ['2223', '1323', '2333'],\n  \"31\": ['2131', '3132', '13'],\n  \"32\": ['3132', '2232', '3233'],\n  \"33\": ['3233', '2333', '11'],\n  \"1112\": ['11', '12'],\n  \"1213\": ['12', '13'],\n  \"1121\": ['11', '21'],\n  \"1222\": ['12', '22'],\n  \"1323\": ['13', '23'],\n  \"2122\": ['21', '22'],\n  \"2223\": ['22', '23'],\n  \"2131\": ['21', '31'],\n  \"2232\": ['22', '32'],\n  \"2333\": ['23', '33'],\n  \"3132\": ['31', '32'],\n  \"3233\": ['32', '33']\n};\n\nclass MapExample extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      actions: this.props.actions,\n      hoveredArea: null,\n      msg: null,\n      moveMsg: null,\n      myid: 'P1',\n      started: true,\n      // Stores players current locID\n      players: {\n        P1: \"2333\",\n        //Miss Scarlet\n        P2: \"3233\",\n        //Mr. Green\n        P3: \"2131\",\n        //Colonel Mustard\n        P4: \"1121\",\n        //Prof. Plum\n        P5: \"1112\",\n        //Mrs. Peacock\n        P6: \"1323\" //Mrs. White\n\n      },\n      // Stores weapons current locID\n      weapons: {\n        W1: \"11\",\n        W2: \"13\",\n        W3: \"22\",\n        W4: \"23\",\n        W5: \"31\",\n        W6: \"32\"\n      }\n    };\n  }\n\n  // Movement message\n  //{\"game_id\":0,\"player_id\":0,\"message_type\":22,\"message\":\n  //{\"character_moved\":true,\"weapon_moved\":false,\"moved_character\":1,\"moved_weapon\":\"\",\"new_weapon_location\":[]}}\n  // //Process the Move for Person or Weapon to new location\n  // MoveObject(PID,TO){\n  //     var currentLoc=document.getElementById(PID).getAttribute('data-locId');\n  //     document.getElementById(PID).setAttribute('data-locId',TO);\n  //     this.RenderRoom(currentLoc);\n  //     this.RenderRoom(TO);\n  // }\n  // //Sets current user Character\n  // SetUser(NUSR){\n  //     this.state.myid=NUSR;\n  // }\n  // //Organizes Objects in a room/hallway  (Updates Room on Gui)\n  // RenderRoom(RID){\n  //     console.log(\"renderroom\" + RID)\n  //     var roomidx=-1;\n  //     for(roomidx=0;roomidx<21;roomidx++){\n  //         if(RID==roomCode[roomidx])\n  //             break;\n  //     }\n  //     //alert(roomidx+','+roomCode[roomidx]);\n  //     var fromx=roomArra[roomidx][0];\n  //     var fromy=roomArra[roomidx][1];\n  //     var tox=roomArra[roomidx][2];\n  //     var toy=roomArra[roomidx][3];\n  //     var i=0;\n  //     var cx=fromx;\n  //     var cy=fromy;\n  //     for(i=1;i<7;i++){\n  //         if(roomCode[roomidx]==document.getElementById('P'+i).getAttribute('data-locId')){\n  //             //$('#P'+i).css({ left: cx+ 'px' });\n  //             //$('#P'+i).css({ top: cy+'px' });\n  //             cy+=45;\n  //             if(cy+40>toy) {\n  //                 cx+=45;\n  //                 cy=fromy;\n  //             }\n  //         }\n  //     }\n  //     for(i=1;i<7;i++){\n  //         if(roomCode[roomidx]==document.getElementById('W'+i).getAttribute('data-locId')){\n  //             //$('#W'+i).css({ left: cx+ 'px' });\n  //             //$('#W'+i).css({ top: cy+'px' });\n  //             cy+=45;\n  //             if(cy+40>toy) {\n  //                 cx+=45;\n  //                 cy=fromy;\n  //             }\n  //         }\n  //     }\n  //     var rcode=roomCode;\n  // }\n  // //Checks if Hallway is free to move in ?\n  // ISFree(HWID){\n  //    console.log('Isfree' + HWID)\n  //    console.log('Isfree' + document.getElementById('P1').getAttribute('data-locId'))\n  //     for(var i=1;i<7;i++) {\n  //         if (HWID == document.getElementById('P' + i).getAttribute('data-locId')) {\n  //             return false;\n  //         }\n  //     }\n  //     return true;\n  // }\n  // //Validates the requested move.\n  // // We can not move to a Hallway if already someone is there\n  // // We only can move to neighbor areas and cross connected rooms\n  // ValidateMove(dataId){\n  //     var roomidx=-1;\n  //     var locid= document.getElementById(this.state.myid).getAttribute('data-locId');\n  //     console.log(\"validatemove\" + locid)\n  //     for(roomidx=0;roomidx<21;roomidx++){\n  //         if(locid==roomCode[roomidx])\n  //             break;\n  //     }\n  //     for (var i=0;i<roomAccess[roomidx].length;i++){\n  //         if(roomAccess[roomidx][i]==dataId){\n  //             if(roomAccess[roomidx][i].length==2)\n  //                 return true;\n  //             return this.ISFree(roomAccess[roomidx][i]);\n  //         }\n  //     }\n  //     return false;\n  // }\n  // //Manages Click event on area (Room or Hallway) . Validate the Move and Move the player to new location.\n  // AreaClicked(area){\n  //     console.log(area)\n  //     console.log(this.state.myid)\n  //     var dataId = area.name;\n  //     if(!this.state.started)\n  //         return ;\n  //     if(!this.ValidateMove(dataId))\n  //     {\n  //         alert('Your requested move is not valid!');\n  //         return ;\n  //     }\n  //     this.MoveObject(this.state.myid, dataId);\n  // }\n  // Provided by example\n  load() {\n    this.setState({\n      msg: \"Interact with image !\"\n    });\n  }\n\n  clicked(area) {\n    this.setState({\n      msg: `You clicked on ${area.shape} at coords ${JSON.stringify(area.coords)} !`\n    });\n    console.log(this.state.msg); //this.AreaClicked(area)\n\n    console.log(this.state.players); //Setting players location have clicked, should really parse information\n    //out of movement broadcast messages\n\n    var clonePlayers = this.state.players;\n    clonePlayers.P1 = area.name;\n    this.setState({\n      players: clonePlayers\n    });\n    console.log(this.state.players);\n    makeMovement(\"true\", \"hallway\");\n  }\n\n  clickedOutside(evt) {\n    const coords = {\n      x: evt.nativeEvent.layerX,\n      y: evt.nativeEvent.layerY\n    };\n    this.setState({\n      msg: `You clicked on the image at coords ${JSON.stringify(coords)} !`\n    });\n  }\n\n  moveOnImage(evt) {\n    const coords = {\n      x: evt.nativeEvent.layerX,\n      y: evt.nativeEvent.layerY\n    };\n    this.setState({\n      moveMsg: `You moved on the image at coords ${JSON.stringify(coords)} !`\n    });\n  }\n\n  enterArea(area) {\n    this.setState({\n      hoveredArea: area,\n      msg: `You entered ${area.shape} ${area.name} at coords ${JSON.stringify(area.coords)} !`\n    });\n  }\n\n  leaveArea(area) {\n    this.setState({\n      hoveredArea: null,\n      msg: `You leaved ${area.shape} ${area.name} at coords ${JSON.stringify(area.coords)} !`\n    });\n  }\n\n  moveOnArea(area, evt) {\n    const coords = {\n      x: evt.nativeEvent.layerX,\n      y: evt.nativeEvent.layerY\n    };\n    this.setState({\n      moveMsg: `You moved on ${area.shape} ${area.name} at coords ${JSON.stringify(coords)} !`\n    });\n  }\n\n  getTipPosition(area) {\n    return {\n      top: `${area.center[1]}px`,\n      left: `${area.center[0]}px`\n    };\n  }\n\n  checkFirst(array) {\n    const first = array[0]; //console.log('CheckFirst:' + JSON.stringify(first))\n    //{\"game_id\":0,\"player_id\":0,\"message_type\":22,\"message”:\n    //{\"character_moved\":true,\"weapon_moved\":false,\"moved_character\":1,\"moved_weapon\":\"\",\"new_weapon_location\":[]}} \n\n    if (first != undefined && first.message_type == 22) {\n      if (first.message.character_moved != undefined) {\n        console.log(\"CheckFirst: Found movement broadcast\" + JSON.stringify(first));\n        console.log(\"CheckFirst: Moving P6 to 13\");\n        var requestedChange = \"13\";\n        var clonePlayers = this.state.players;\n        clonePlayers.P6 = '13'; //Should grab location from messages\n\n        if (clonePlayers.P6 != requestedChange) {\n          console.log(\"CheckFirst: State Before\" + JSON.stringify(this.state));\n          this.setState({\n            players: clonePlayers\n          });\n          console.log(\"CheckFirst: State After\" + JSON.stringify(this.state));\n        }\n      }\n    }\n  }\n\n  render() {\n    //console.log('MapState:' + JSON.stringify(this.state))\n    //console.log('MapProps:' + JSON.stringify(his.props.actions))\n    this.checkFirst(this.props.actions);\n    const URL = \"/gameboard/GBG.png\";\n    const MAP = {\n      name: \"my-map\",\n      areas: [{\n        name: \"11\",\n        shape: \"rect\",\n        coords: [93, 213, 286, 439],\n        preFillColor: \"green\"\n      }, {\n        name: \"12\",\n        shape: \"poly\",\n        coords: [350, 278, 416, 277, 416, 243, 542, 245, 543, 279, 607, 279, 606, 468, 349, 468],\n        preFillColor: \"green\"\n      }, {\n        name: \"13\",\n        shape: 'rect',\n        coords: [673, 216, 863, 407],\n        preFillColor: \"green\"\n      }, {\n        name: \"21\",\n        shape: 'poly',\n        coords: [92, 503, 253, 505, 254, 534, 349, 537, 348, 727, 93, 727],\n        preFillColor: \"green\"\n      }, {\n        name: \"22\",\n        shape: 'rect',\n        coords: [418, 537, 575, 724],\n        preFillColor: \"green\"\n      }, {\n        name: \"23\",\n        shape: 'poly',\n        coords: [642, 538, 670, 538, 671, 506, 831, 506, 832, 538, 862, 539, 864, 632, 831, 636, 833, 664, 670, 666, 669, 633, 639, 632],\n        preFillColor: \"green\"\n      }, {\n        name: \"31\",\n        shape: 'rect',\n        coords: [91, 822, 316, 1020],\n        preFillColor: \"green\"\n      }, {\n        name: \"32\",\n        shape: 'rect',\n        coords: [382, 792, 571, 1001],\n        preFillColor: \"green\"\n      }, {\n        name: \"33\",\n        shape: 'rect',\n        coords: [639, 892, 862, 1017],\n        preFillColor: \"green\"\n      }, {\n        name: \"1112\",\n        shape: 'rect',\n        coords: [288, 373, 348, 403],\n        preFillColor: \"green\"\n      }, {\n        name: \"1213\",\n        shape: 'rect',\n        coords: [610, 371, 671, 404],\n        preFillColor: \"green\"\n      }, {\n        name: \"2122\",\n        shape: 'rect',\n        coords: [352, 597, 416, 629],\n        preFillColor: \"green\"\n      }, {\n        name: \"2223\",\n        shape: 'rect',\n        coords: [578, 563, 639, 598],\n        preFillColor: \"green\"\n      }, {\n        name: \"3132\",\n        shape: 'rect',\n        coords: [318, 921, 381, 953],\n        preFillColor: \"green\"\n      }, {\n        name: \"3233\",\n        shape: 'rect',\n        coords: [576, 920, 637, 953],\n        preFillColor: \"green\"\n      }, {\n        name: \"1121\",\n        shape: 'rect',\n        coords: [218, 440, 252, 501],\n        preFillColor: \"green\"\n      }, {\n        name: \"1222\",\n        shape: 'rect',\n        coords: [542, 471, 576, 531],\n        preFillColor: \"green\"\n      }, {\n        name: \"1323\",\n        shape: 'rect',\n        coords: [734, 409, 771, 503],\n        preFillColor: \"green\"\n      }, {\n        name: \"2131\",\n        shape: 'rect',\n        coords: [282, 730, 318, 819],\n        preFillColor: \"green\"\n      }, {\n        name: \"2232\",\n        shape: 'rect',\n        coords: [444, 729, 479, 789],\n        preFillColor: \"green\"\n      }, {\n        name: \"2333\",\n        shape: \"rect\",\n        coords: [680, 668, 716, 884],\n        preFillColor: \"green\"\n      }]\n    };\n    const ROOM = [{\n      id: \"11\",\n      name: \"Kitchen\"\n    }, {\n      id: \"12\",\n      name: \"Ballroom\"\n    }, {\n      id: \"13\",\n      name: \"Conservatory\"\n    }, {\n      id: \"21\",\n      name: \"Diningroom\"\n    }, {\n      id: \"22\",\n      name: \"Billiardroom\"\n    }, {\n      id: \"23\",\n      name: \"Library\"\n    }, {\n      id: \"31\",\n      name: \"Lounge\"\n    }, {\n      id: \"32\",\n      name: \"Hall\"\n    }, {\n      id: \"33\",\n      name: \"Study\"\n    }, {\n      id: \"1112\",\n      name: \"1112\"\n    }, {\n      id: \"1213\",\n      name: \"1213\"\n    }, {\n      id: \"2122\",\n      name: \"2122\"\n    }, {\n      id: \"2223\",\n      name: \"2223\"\n    }, {\n      id: \"3132\",\n      name: \"3132\"\n    }, {\n      id: \"3233\",\n      name: \"3233\"\n    }, {\n      id: \"1121\",\n      name: \"1121\"\n    }, {\n      id: \"1222\",\n      name: \"1222\"\n    }, {\n      id: \"1323\",\n      name: \"1323\"\n    }, {\n      id: \"2131\",\n      name: \"2131\"\n    }, {\n      id: \"2232\",\n      name: \"2232\"\n    }, {\n      id: \"2333\",\n      name: \"2333\"\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(ImageMapper, {\n      src: URL,\n      map: MAP,\n      width: 500,\n      onLoad: () => this.load(),\n      onClick: area => this.clicked(area),\n      onMouseEnter: area => this.enterArea(area),\n      onMouseLeave: area => this.leaveArea(area),\n      onMouseMove: (area, _, evt) => this.moveOnArea(area, evt),\n      onImageClick: evt => this.clickedOutside(evt),\n      onImageMouseMove: evt => this.moveOnImage(evt),\n      imgWidth: 1230,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 5\n      }\n    }), this.state.hoveredArea && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltip\",\n      style: { ...this.getTipPosition(this.state.hoveredArea)\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 6\n      }\n    }, this.state.hoveredArea && this.state.hoveredArea.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 5\n      }\n    }, \"!\", JSON.stringify(this.state.players), \"!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 5\n      }\n    }, \"!\", JSON.stringify(this.state.weapons), \"!\")));\n  }\n\n}\n\nexport default MapExample;","map":{"version":3,"sources":["/Users/kathryncrisafulli/Desktop/clueless_git/UnitedCoders/clueless_react/src/MapExample.js"],"names":["React","ImageMapper","positional","makeMovement","makeSuggestion","makeAccusation","makeDisprove","roomCode","roomArra","roomAccess","MapExample","Component","constructor","props","state","actions","hoveredArea","msg","moveMsg","myid","started","players","P1","P2","P3","P4","P5","P6","weapons","W1","W2","W3","W4","W5","W6","load","setState","clicked","area","shape","JSON","stringify","coords","console","log","clonePlayers","name","clickedOutside","evt","x","nativeEvent","layerX","y","layerY","moveOnImage","enterArea","leaveArea","moveOnArea","getTipPosition","top","center","left","checkFirst","array","first","undefined","message_type","message","character_moved","requestedChange","render","URL","MAP","areas","preFillColor","ROOM","id","_"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ImageMapper from 'react-image-mapper';\nimport { positional } from \"yargs\";\nimport { makeMovement, makeSuggestion, makeAccusation, makeDisprove } from './ClientManager';\n\n//All rooms and Hallways codes. Sequence is important - Please don't change them.\nvar roomCode = ['11','12','13','21','22','23','31','32','33',\n'1112','1213','1121','1222','1323','2122','2223','2131','2232','2333','3132','3233']\n\n//All rooms and Hallways locations to put objects. Sequence is important - Please don't change them.\nvar roomArra = {\n  \"11\": [103,241,273,426], \n  \"12\": [379,300,585,455],\n  \"13\": [691,235,853,394],\n  \"21\": [103,541,337,716],\n  \"22\": [423,544,561,715],\n  \"23\": [674,510,828,660],\n  \"31\": [103,835,305,1011],\n  \"32\": [385,796,569,995],\n  \"33\": [640,892,861,1017],\n  \"1112\": [304,374,304,374],\n  \"1213\": [625,374,625,374],\n  \"1121\": [219,460,219,460],\n  \"1222\": [543,479,543,479],\n  \"1323\": [735,440,735,440],\n  \"2122\": [365,599,365,599],\n  \"2223\": [591,567,591,567],\n  \"2131\": [284,753,284,753],\n  \"2232\": [444,741,444,741],\n  \"2333\": [680,725,680,725],\n  \"3132\": [335,924,335,924],\n  \"3233\": [590,923,590,923]\n}\n\n//All valid rooms and hallways to move in (based on player's current location). Sequence is important - Please don't change them.\nvar roomAccess = {\n    \"11\": ['1112','1121','33'],\n    \"12\": ['1112','1222','1213'], \n    \"13\": ['1213','1323','31'],\n    \"21\": ['1121','2122','2131'],\n    \"22\": ['2122','1222','2223','2232'],\n    \"23\": ['2223','1323','2333'],\n    \"31\": ['2131','3132','13'],\n    \"32\": ['3132','2232','3233'],\n    \"33\": ['3233','2333','11'],\n    \"1112\": ['11','12'],\n    \"1213\": ['12','13'],\n    \"1121\": ['11','21'],\n    \"1222\": ['12','22'],\n    \"1323\": ['13','23'],\n    \"2122\": ['21','22'],\n    \"2223\": ['22','23'],\n    \"2131\": ['21','31'],\n    \"2232\": ['22','32'],\n    \"2333\": ['23','33'],\n    \"3132\": ['31','32'],\n    \"3233\": ['32','33']\n}\n  class MapExample extends React.Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        actions: this.props.actions,\n        hoveredArea: null,\n        msg: null, \n        moveMsg: null,\n        myid: 'P1',\n        started: true,\n\n        // Stores players current locID\n        players: {\n          P1: \"2333\", //Miss Scarlet\n          P2: \"3233\", //Mr. Green\n          P3: \"2131\", //Colonel Mustard\n          P4: \"1121\", //Prof. Plum\n          P5: \"1112\", //Mrs. Peacock\n          P6: \"1323\" //Mrs. White\n        },\n  \n        // Stores weapons current locID\n        weapons: {\n          W1: \"11\",\n          W2: \"13\",\n          W3: \"22\",\n          W4: \"23\",\n          W5: \"31\",\n          W6: \"32\",\n        }\n      };\n    };\n\n    // Movement message\n    //{\"game_id\":0,\"player_id\":0,\"message_type\":22,\"message\":\n    //{\"character_moved\":true,\"weapon_moved\":false,\"moved_character\":1,\"moved_weapon\":\"\",\"new_weapon_location\":[]}}\n\n    // //Process the Move for Person or Weapon to new location\n    // MoveObject(PID,TO){\n    //     var currentLoc=document.getElementById(PID).getAttribute('data-locId');\n    //     document.getElementById(PID).setAttribute('data-locId',TO);\n    //     this.RenderRoom(currentLoc);\n    //     this.RenderRoom(TO);\n    // }\n\n    // //Sets current user Character\n    // SetUser(NUSR){\n    //     this.state.myid=NUSR;\n    // }\n\n    // //Organizes Objects in a room/hallway  (Updates Room on Gui)\n    // RenderRoom(RID){\n    //     console.log(\"renderroom\" + RID)\n    //     var roomidx=-1;\n    //     for(roomidx=0;roomidx<21;roomidx++){\n    //         if(RID==roomCode[roomidx])\n    //             break;\n    //     }\n    //     //alert(roomidx+','+roomCode[roomidx]);\n    //     var fromx=roomArra[roomidx][0];\n    //     var fromy=roomArra[roomidx][1];\n    //     var tox=roomArra[roomidx][2];\n    //     var toy=roomArra[roomidx][3];\n    //     var i=0;\n    //     var cx=fromx;\n    //     var cy=fromy;\n    //     for(i=1;i<7;i++){\n    //         if(roomCode[roomidx]==document.getElementById('P'+i).getAttribute('data-locId')){\n    //             //$('#P'+i).css({ left: cx+ 'px' });\n    //             //$('#P'+i).css({ top: cy+'px' });\n    //             cy+=45;\n    //             if(cy+40>toy) {\n    //                 cx+=45;\n    //                 cy=fromy;\n    //             }\n    //         }\n    //     }\n    //     for(i=1;i<7;i++){\n    //         if(roomCode[roomidx]==document.getElementById('W'+i).getAttribute('data-locId')){\n    //             //$('#W'+i).css({ left: cx+ 'px' });\n    //             //$('#W'+i).css({ top: cy+'px' });\n    //             cy+=45;\n\n    //             if(cy+40>toy) {\n    //                 cx+=45;\n    //                 cy=fromy;\n    //             }\n    //         }\n    //     }\n    //     var rcode=roomCode;\n    // }\n\n    // //Checks if Hallway is free to move in ?\n    // ISFree(HWID){\n    //    console.log('Isfree' + HWID)\n    //    console.log('Isfree' + document.getElementById('P1').getAttribute('data-locId'))\n    //     for(var i=1;i<7;i++) {\n    //         if (HWID == document.getElementById('P' + i).getAttribute('data-locId')) {\n    //             return false;\n    //         }\n    //     }\n    //     return true;\n    // }\n\n    // //Validates the requested move.\n    // // We can not move to a Hallway if already someone is there\n    // // We only can move to neighbor areas and cross connected rooms\n    // ValidateMove(dataId){\n    //     var roomidx=-1;\n\n    //     var locid= document.getElementById(this.state.myid).getAttribute('data-locId');\n    //     console.log(\"validatemove\" + locid)\n    //     for(roomidx=0;roomidx<21;roomidx++){\n    //         if(locid==roomCode[roomidx])\n    //             break;\n    //     }\n\n    //     for (var i=0;i<roomAccess[roomidx].length;i++){\n    //         if(roomAccess[roomidx][i]==dataId){\n    //             if(roomAccess[roomidx][i].length==2)\n    //                 return true;\n    //             return this.ISFree(roomAccess[roomidx][i]);\n    //         }\n    //     }\n    //     return false;\n    // }\n\n    // //Manages Click event on area (Room or Hallway) . Validate the Move and Move the player to new location.\n    // AreaClicked(area){\n    //     console.log(area)\n    //     console.log(this.state.myid)\n    //     var dataId = area.name;\n    //     if(!this.state.started)\n    //         return ;\n    //     if(!this.ValidateMove(dataId))\n    //     {\n    //         alert('Your requested move is not valid!');\n    //         return ;\n    //     }\n    //     this.MoveObject(this.state.myid, dataId);\n    // }\n  \n    // Provided by example\n    load() {\n      this.setState({ msg: \"Interact with image !\" });\n    }\n    clicked(area) {\n      this.setState({\n        msg: `You clicked on ${area.shape} at coords ${JSON.stringify(\n          area.coords\n        )} !`\n      });\n      console.log(this.state.msg)\n      //this.AreaClicked(area)\n      console.log(this.state.players)\n      \n      //Setting players location have clicked, should really parse information\n      //out of movement broadcast messages\n      var clonePlayers = this.state.players;\n      clonePlayers.P1=area.name;\n      this.setState({players: clonePlayers})\n      console.log(this.state.players)\n      makeMovement(\"true\", \"hallway\");\n    }\n\n    clickedOutside(evt) {\n      const coords = { x: evt.nativeEvent.layerX, y: evt.nativeEvent.layerY };\n      this.setState({\n        msg: `You clicked on the image at coords ${JSON.stringify(coords)} !`\n      });\n    }\n\n    moveOnImage(evt) {\n      const coords = { x: evt.nativeEvent.layerX, y: evt.nativeEvent.layerY };\n      this.setState({\n        moveMsg: `You moved on the image at coords ${JSON.stringify(coords)} !`\n      });\n    }\n\n    enterArea(area) {\n      this.setState({\n        hoveredArea: area,\n        msg: `You entered ${area.shape} ${area.name} at coords ${JSON.stringify(\n          area.coords\n        )} !`\n      });\n    }\n\n    leaveArea(area) {\n      this.setState({\n        hoveredArea: null,\n        msg: `You leaved ${area.shape} ${area.name} at coords ${JSON.stringify(\n          area.coords\n        )} !`\n      });\n    }\n\n    moveOnArea(area, evt) {\n      const coords = { x: evt.nativeEvent.layerX, y: evt.nativeEvent.layerY };\n      this.setState({\n        moveMsg: `You moved on ${area.shape} ${\n          area.name\n        } at coords ${JSON.stringify(coords)} !`\n      });\n    }\n  \n    getTipPosition(area) {\n      return { top: `${area.center[1]}px`, left: `${area.center[0]}px` };\n    }\n\n    checkFirst(array) {\n      const first = array[0];\n      //console.log('CheckFirst:' + JSON.stringify(first))\n\n      //{\"game_id\":0,\"player_id\":0,\"message_type\":22,\"message”:\n      //{\"character_moved\":true,\"weapon_moved\":false,\"moved_character\":1,\"moved_weapon\":\"\",\"new_weapon_location\":[]}} \n      \n      if (first != undefined && first.message_type == 22) {\n         if (first.message.character_moved != undefined) {\n           console.log(\"CheckFirst: Found movement broadcast\" + JSON.stringify(first));\n           console.log(\"CheckFirst: Moving P6 to 13\");\n\n           var requestedChange = \"13\";\n           var clonePlayers = this.state.players;\n           clonePlayers.P6='13'; //Should grab location from messages\n\n           if (clonePlayers.P6 != requestedChange) {\n            console.log(\"CheckFirst: State Before\" + JSON.stringify(this.state))\n            this.setState({players: clonePlayers})\n            console.log(\"CheckFirst: State After\" + JSON.stringify(this.state))\n           }\n\n         }\n      }\n    }\n\n  render() {\n    //console.log('MapState:' + JSON.stringify(this.state))\n    //console.log('MapProps:' + JSON.stringify(his.props.actions))\n\n    this.checkFirst(this.props.actions)\n  \n  const URL = \"/gameboard/GBG.png\"\n  const MAP = {\n    name: \"my-map\",\n    areas: [\n      {name: \"11\", shape: \"rect\", coords: [93,213,286,439], preFillColor: \"green\" },\n      {name: \"12\", shape: \"poly\", coords: [350,278,416,277,416,243,542,245,543,279,607,279,606,468,349,468], preFillColor: \"green\"},\n      {name: \"13\", shape: 'rect', coords: [673,216,863,407], preFillColor: \"green\" },\n      {name: \"21\", shape: 'poly', coords: [92,503,253,505,254,534,349,537,348,727,93,727], preFillColor: \"green\" },\n      {name: \"22\", shape: 'rect', coords: [418,537,575,724], preFillColor: \"green\" },\n      {name: \"23\", shape: 'poly', coords: [642,538,670,538,671,506,831,506,832,538,862,539,864,632,831,636,833,664,670,666,669,633,639,632], preFillColor: \"green\" },\n      {name: \"31\", shape: 'rect', coords: [91,822,316,1020], preFillColor: \"green\" },\n      {name: \"32\", shape: 'rect', coords: [382,792,571,1001], preFillColor: \"green\" },\n      {name: \"33\", shape: 'rect', coords: [639,892,862,1017], preFillColor: \"green\" },\n      {name: \"1112\", shape: 'rect', coords: [288,373,348,403], preFillColor: \"green\" },\n      {name: \"1213\", shape: 'rect', coords: [610,371,671,404], preFillColor: \"green\" },\n      {name: \"2122\", shape: 'rect', coords: [352,597,416,629], preFillColor: \"green\" },\n      {name: \"2223\", shape: 'rect', coords: [578,563,639,598], preFillColor: \"green\" },\n      {name: \"3132\", shape: 'rect', coords: [318,921,381,953], preFillColor: \"green\" },\n      {name: \"3233\", shape: 'rect', coords: [576,920,637,953], preFillColor: \"green\" },\n      {name: \"1121\", shape: 'rect', coords: [218,440,252,501], preFillColor: \"green\" }, \n      {name: \"1222\", shape: 'rect', coords: [542,471,576,531], preFillColor: \"green\" },\n      {name: \"1323\", shape: 'rect', coords: [734,409,771,503], preFillColor: \"green\" },\n      {name: \"2131\", shape: 'rect', coords: [282,730,318,819], preFillColor: \"green\" },\n      {name: \"2232\", shape: 'rect', coords: [444,729,479,789], preFillColor: \"green\" },\n      {name: \"2333\", shape: \"rect\", coords: [680,668,716,884], preFillColor: \"green\" },\n    ]\n  }\n\n  const ROOM = [\n    { id: \"11\", name: \"Kitchen\"},\n    { id: \"12\", name: \"Ballroom\"},\n    { id: \"13\", name: \"Conservatory\"},\n    { id: \"21\", name: \"Diningroom\"},\n    { id: \"22\", name: \"Billiardroom\"},\n    { id: \"23\", name: \"Library\"},\n    { id: \"31\", name: \"Lounge\"},\n    { id: \"32\", name: \"Hall\"},\n    { id: \"33\", name: \"Study\"},\n    { id: \"1112\", name: \"1112\"},\n    { id: \"1213\", name: \"1213\"},\n    { id: \"2122\", name: \"2122\"},\n    { id: \"2223\", name: \"2223\"},\n    { id: \"3132\", name: \"3132\"},\n    { id: \"3233\", name: \"3233\"},\n    { id: \"1121\", name: \"1121\"},\n    { id: \"1222\", name: \"1222\"},\n    { id: \"1323\", name: \"1323\"},\n    { id: \"2131\", name: \"2131\"},\n    { id: \"2232\", name: \"2232\"},\n    { id: \"2333\", name: \"2333\"}\n  ]\n\n    return (\n      <div>\n      {/* <div id=\"P1\" data-locId=\"2333\" ><img src=\"/gameboard/P1.png\" height=\"45\" width=\"28\" title=\"Miss Scarlet\" /></div>\n    <div id=\"P2\"  data-locId=\"3233\" ><img src=\"/gameboard/P2.png\" height=\"45\" width=\"28\" title=\"Mr. Green\"/></div>\n    <div id=\"P3\" data-locId=\"2131\"  ><img src=\"/gameboard/P3.png\" height=\"45\" width=\"28\" title=\"Colonel Mustard\"/></div>\n    <div id=\"P4\" data-locId=\"1121\"  ><img src=\"/gameboard/P4.png\" height=\"45\" width=\"28\" title=\"Prof. Plum\"/></div>\n    <div id=\"P5\" data-locId=\"1112\"  ><img src=\"/gameboard/P5.png\" height=\"45\" width=\"28\" title=\"Mrs. Peacock\"/></div>\n    <div id=\"P6\" data-locId=\"1323\"  ><img src=\"/gameboard/P6.png\" height=\"45\" width=\"28\" title=\"Mrs. White\"/></div>\n\n    <div id=\"W1\" data-locId=\"11\" ><img src=\"/gameboard/W1.png\" height=\"45\" width=\"45\" title=\"Candlestick\"/></div>\n    <div id=\"W2\"  data-locId=\"13\" ><img src=\"/gameboard/W2.png\" height=\"45\" width=\"45\" title=\"Dagger\"/></div>\n    <div id=\"W3\"  data-locId=\"22\" ><img src=\"/gameboard/W3.png\" height=\"45\" width=\"45\" title=\"Lead Pipe\"/></div>\n    <div id=\"W4\" data-locId=\"23\" ><img src=\"/gameboard/W4.png\" height=\"45\" width=\"45\" title=\"Revolver\"/></div>\n    <div id=\"W5\"  data-locId=\"31\" ><img src=\"/gameboard/W5.png\" height=\"45\" width=\"45\" title=\"Rope\"/></div>\n    <div id=\"W6\"  data-locId=\"32\" ><img src=\"/gameboard/W6.png\" height=\"45\" width=\"45\" title=\"Wrench\"/></div> */}\n\n  <div className=\"container\">\n    <ImageMapper src={URL} map={MAP} width={500}\n    \tonLoad={() => this.load()}\n    \tonClick={area => this.clicked(area)}\n    \tonMouseEnter={area => this.enterArea(area)}\n    \tonMouseLeave={area => this.leaveArea(area)}\n    \tonMouseMove={(area, _, evt) => this.moveOnArea(area, evt)}\n    \tonImageClick={evt => this.clickedOutside(evt)}\n      onImageMouseMove={evt => this.moveOnImage(evt)}\n      imgWidth={1230}\n    />\n    {\n    \tthis.state.hoveredArea &&\n    \t<span className=\"tooltip\"\n    \t    style={{ ...this.getTipPosition(this.state.hoveredArea)}}>\n    \t\t{ this.state.hoveredArea && this.state.hoveredArea.name }\n    \t</span>\n    }\n    <p></p>\n    <p>!{JSON.stringify(this.state.players)}!</p>\n    <p>!{JSON.stringify(this.state.weapons)}!</p>\n    {/* <div id=\"BPH\" data-locId=\"0\">\n        <span id=\"S1\" height=\"200\" width=\"90\" ><img src=\"/gameboard/S1.png\" height=\"183\" width=\"80\" title=\"Miss Scarlet\"/><br/>Miss Scarlet</span>\n        <span id=\"S2\"  height=\"200\" width=\"90\" ><img src=\"/gameboard/S2.png\" height=\"183\" width=\"80\" title=\"Mr. Green\"/><br/>Mr. Green</span>\n        <span id=\"S3\"  height=\"200\" width=\"90\" ><img src=\"/gameboard/S3.png\" height=\"183\" width=\"80\" title=\"Colonel Mustard\"/><br/>Col Mustard</span>\n        <span id=\"S4\"  height=\"200\" width=\"90\" ><img src=\"/gameboard/S4.png\" height=\"183\" width=\"80\" title=\"Professor Plum\"/><br/>Prof. Plum</span>\n        <span id=\"S5\"  height=\"200\" width=\"90\" ><img src=\"/gameboard/S5.png\" height=\"183\" width=\"80\" title=\"Mrs. Peacock\"/><br/>Mrs. Peacock</span>\n        <span id=\"S6\"  height=\"200\" width=\"90\" ><img src=\"/gameboard/S6.png\" height=\"183\" width=\"80\" title=\"Mrs. White\"/><br/>Mrs. White</span>\n\n        <span id=\"C1\"  height=\"200\" width=\"90\" ><img src=\"/gameboard/W1.png\" height=\"80\" width=\"80\" title=\"Candlestick\"/><br/>Candlestick</span>\n        <span id=\"C2\"  height=\"200\" width=\"90\" ><img src=\"/gameboard/W2.png\" height=\"80\" width=\"80\" title=\"Dagger\"/><br/>Dagger</span>\n        <span id=\"C3\"  height=\"200\" width=\"90\" ><img src=\"/gameboard/W3.png\" height=\"80\" width=\"80\" title=\"Lead Pipe\"/><br/>Lead Pipe</span>\n        <span id=\"C4\"  height=\"200\" width=\"90\" ><img src=\"/gameboard/W4.png\" height=\"80\" width=\"80\" title=\"Revolver\"/><br/>Revolver</span>\n        <span id=\"C5\"  height=\"200\" width=\"90\" ><img src=\"/gameboard/W5.png\" height=\"80\" width=\"80\" title=\"Rope\"/><br/>Rope</span>\n        <span id=\"C6\"  height=\"200\" width=\"90\" ><img src=\"/gameboard/W6.png\" height=\"80\" width=\"80\" title=\"Wrench\"/><br/>Wrench</span>\n\n    </div> */}\n    </div>\n</div>\n    );\n  }\n  }\n  \nexport default MapExample;"]},"metadata":{},"sourceType":"module"}