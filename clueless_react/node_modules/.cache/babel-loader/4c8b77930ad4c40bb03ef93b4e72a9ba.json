{"ast":null,"code":"var _jsxFileName = \"/Users/kathryncrisafulli/Desktop/clueless_git/UnitedCoders/clueless_react/src/Gameboard.js\";\nimport React from \"react\";\nimport { Room } from \"./Room\";\nimport { Box } from \"./Box\";\nimport { makeMovement } from \"./ClientManager\";\nvar uniqueIDs = [{\n  type: \"character\",\n  name: \"Miss Scarlet\",\n  image: \"P1\"\n}, {\n  type: \"character\",\n  name: \"Mr. Green\",\n  image: \"P2\"\n}, {\n  type: \"character\",\n  name: \"Colonel Mustard\",\n  image: \"P3\"\n}, {\n  type: \"character\",\n  name: \"Prof. Plum\",\n  image: \"P4\"\n}, {\n  type: \"character\",\n  name: \"Mrs. Peacock\",\n  image: \"P5\"\n}, {\n  type: \"character\",\n  name: \"Mrs. White\",\n  image: \"P6\"\n}, {\n  type: \"weapon\",\n  name: \"Candlestick\",\n  image: \"W1\"\n}, {\n  type: \"weapon\",\n  name: \"Revolver\",\n  image: \"W4\"\n}, {\n  type: \"weapon\",\n  name: \"Knife\",\n  image: \"W2\"\n}, {\n  type: \"weapon\",\n  name: \"Pipe\",\n  image: \"W3\"\n}, {\n  type: \"weapon\",\n  name: \"Rope\",\n  image: \"W5\"\n}, {\n  type: \"weapon\",\n  name: \"Wrench\",\n  image: \"W6\"\n}, {\n  type: \"room\",\n  name: \"Study\",\n  roomId: 33,\n  gridX: 4,\n  gridY: 4\n}, {\n  type: \"room\",\n  name: \"Hall\",\n  roomId: 32,\n  gridX: 2,\n  gridY: 4\n}, {\n  type: \"room\",\n  name: \"Lounge\",\n  roomId: 31,\n  gridX: 0,\n  gridY: 4\n}, {\n  type: \"room\",\n  name: \"Dinning\",\n  roomId: 21,\n  gridX: 0,\n  gridY: 2\n}, {\n  type: \"room\",\n  name: \"Billiard\",\n  roomId: 22,\n  gridX: 2,\n  gridY: 2\n}, {\n  type: \"room\",\n  name: \"Library\",\n  roomId: 23,\n  gridX: 4,\n  gridY: 2\n}, {\n  type: \"room\",\n  name: \"Conservatory\",\n  roomId: 13,\n  gridX: 4,\n  gridY: 0\n}, {\n  type: \"room\",\n  name: \"Ballroom\",\n  roomId: 12,\n  gridX: 2,\n  gridY: 0\n}, {\n  type: \"room\",\n  name: \"Kitchen\",\n  roomId: 11,\n  gridX: 0,\n  gridY: 0\n}]; // 7 = Candlestick, X = 0, Y = 0 W1\n// 8 = Revolver, X = 2, Y = 0 W4\n// 9 = Knife, X = 4, Y = 0 W2\n// 10 = Pipe, X = 0, Y = 4 W3\n// 11 = Rope, X = 2, Y = 4 W5\n// 12 = Wrench, X = 4, Y = 4 W6\n\nvar startLocations = {\n  P0: {\n    currentX: -1,\n    currentY: -1\n  },\n  P1: {\n    currentX: 3,\n    currentY: 4\n  },\n  P2: {\n    currentX: 4,\n    currentY: 3\n  },\n  P3: {\n    currentX: 3,\n    currentY: 0\n  },\n  P4: {\n    currentX: 1,\n    currentY: 0\n  },\n  P5: {\n    currentX: 0,\n    currentY: 1\n  },\n  P6: {\n    currentX: 1,\n    currentY: 4\n  },\n  W1: {\n    currentX: 0,\n    currentY: 0\n  },\n  W2: {\n    currentX: 4,\n    currentY: 0\n  },\n  W3: {\n    currentX: 0,\n    currentY: 4\n  },\n  W4: {\n    currentX: 4,\n    currentY: 0\n  },\n  W5: {\n    currentX: 2,\n    currentY: 4\n  },\n  W6: {\n    currentX: 4,\n    currentY: 4\n  }\n};\nvar startGrid = [[{\n  roomId: \"11\",\n  roomName: \"Kitchen\",\n  roomAccess: [{\n    id: \"1112\",\n    x: 0,\n    y: 1\n  }, {\n    id: \"1121\",\n    x: 1,\n    y: 0\n  }, {\n    id: \"33\",\n    x: 4,\n    y: 4\n  }],\n  roomLimit: -1,\n  // No limit\n  roomPlayers: [],\n  roomWeapons: [\"W1\"]\n}, {\n  roomId: \"1112\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"11\",\n    x: 0,\n    y: 0\n  }, {\n    id: \"12\",\n    x: 0,\n    y: 2\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [\"P5\"],\n  roomWeapons: []\n}, {\n  roomId: \"12\",\n  roomName: \"Ballroom\",\n  roomAccess: [{\n    id: \"1112\",\n    x: 0,\n    y: 1\n  }, {\n    id: \"1222\",\n    x: 3,\n    y: 3\n  }, {\n    id: \"1213\",\n    x: 0,\n    y: 3\n  }],\n  roomLimit: -1,\n  // No limit\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"1213\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"12\",\n    x: 0,\n    y: 2\n  }, {\n    id: \"13\",\n    x: 0,\n    y: 4\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"13\",\n  roomName: \"Conservatory\",\n  roomAccess: [{\n    id: \"1213\",\n    x: 0,\n    y: 3\n  }, \"1323\", {\n    id: \"31\",\n    x: 4,\n    y: 0\n  }],\n  roomLimit: -1,\n  // No limit\n  roomPlayers: [],\n  roomWeapons: [\"W3\"]\n}], [{\n  roomId: \"1121\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"11\",\n    x: 0,\n    y: 0\n  }, {\n    id: \"21\",\n    x: 2,\n    y: 0\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [\"P4\"],\n  roomWeapons: []\n}, {\n  roomId: \"0\",\n  roomName: \"Empty\",\n  roomAccess: [],\n  roomLimit: 0,\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"1222\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"12\",\n    x: 0,\n    y: 2\n  }, {\n    id: \"22\",\n    x: 2,\n    y: 2\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"0\",\n  roomName: \"Empty\",\n  roomAccess: [],\n  roomLimit: 0,\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"1323\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"13\",\n    x: 0,\n    y: 4\n  }, {\n    id: \"23\",\n    x: 2,\n    y: 4\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [\"P6\"],\n  roomWeapons: []\n}], [{\n  roomId: \"21\",\n  roomName: \"Dinning Room\",\n  roomAccess: [{\n    id: \"1121\",\n    x: 1,\n    y: 0\n  }, {\n    id: \"2122\",\n    x: 2,\n    y: 1\n  }, {\n    id: \"2131\",\n    x: 3,\n    y: 0\n  }],\n  roomLimit: -1,\n  // No limit\n  roomPlayers: [],\n  roomWeapons: [\"W4\"]\n}, {\n  roomId: \"2122\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"21\",\n    x: 2,\n    y: 0\n  }, {\n    id: \"22\",\n    x: 2,\n    y: 2\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"22\",\n  roomName: \"Billiard Room\",\n  roomAccess: [{\n    id: \"2122\",\n    x: 2,\n    y: 1\n  }, {\n    id: \"1222\",\n    x: 1,\n    y: 2\n  }, {\n    id: \"2223\",\n    x: 2,\n    y: 3\n  }, {\n    id: \"2232\",\n    x: 3,\n    y: 2\n  }],\n  roomLimit: -1,\n  // No limit\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"2223\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"22\",\n    x: 2,\n    y: 2\n  }, {\n    id: \"23\",\n    x: 2,\n    y: 4\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"23\",\n  roomName: \"Library\",\n  roomAccess: [{\n    id: \"2223\",\n    x: 2,\n    y: 3\n  }, {\n    id: \"1323\",\n    x: 1,\n    y: 4\n  }, {\n    id: \"2333\",\n    x: 3,\n    y: 4\n  }],\n  roomLimit: -1,\n  // No limit\n  roomPlayers: [],\n  roomWeapons: [\"W5\"]\n}], [{\n  roomId: \"2131\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"21\",\n    x: 2,\n    y: 0\n  }, {\n    id: \"31\",\n    x: 4,\n    y: 0\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [\"P3\"],\n  roomWeapons: []\n}, {\n  roomId: \"0\",\n  roomName: \"Empty\",\n  roomAccess: [],\n  roomLimit: 0,\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"2232\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"22\",\n    x: 2,\n    y: 2\n  }, {\n    id: \"32\",\n    x: 4,\n    y: 2\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"0\",\n  roomName: \"Empty\",\n  roomAccess: [],\n  roomLimit: 0,\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"2333\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"23\",\n    x: 2,\n    y: 4\n  }, {\n    id: \"33\",\n    x: 4,\n    y: 4\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [\"P1\"],\n  roomWeapons: []\n}], [{\n  roomId: \"31\",\n  roomName: \"Lounge\",\n  roomAccess: [{\n    id: \"2131\",\n    x: 3,\n    y: 0\n  }, {\n    id: \"3132\",\n    x: 4,\n    y: 1\n  }, {\n    id: \"13\",\n    x: 0,\n    y: 4\n  }],\n  roomLimit: -1,\n  // No limit\n  roomPlayers: [],\n  roomWeapons: [\"W2\"]\n}, {\n  roomId: \"3132\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"31\",\n    x: 4,\n    y: 0\n  }, {\n    id: \"32\",\n    x: 4,\n    y: 2\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"32\",\n  roomName: \"Hall\",\n  roomAccess: [{\n    id: \"3132\",\n    x: 4,\n    y: 1\n  }, {\n    id: \"2232\",\n    x: 3,\n    y: 2\n  }, {\n    id: \"3233\",\n    x: 4,\n    y: 3\n  }],\n  roomLimit: -1,\n  // No limit\n  roomPlayers: [],\n  roomWeapons: []\n}, {\n  roomId: \"3233\",\n  roomName: \"Hallway\",\n  roomAccess: [{\n    id: \"32\",\n    x: 4,\n    y: 2\n  }, {\n    id: \"33\",\n    x: 4,\n    y: 4\n  }],\n  roomLimit: 1,\n  // Because it is the hallway\n  roomPlayers: [\"P2\"],\n  roomWeapons: []\n}, {\n  roomId: \"33\",\n  roomName: \"Study\",\n  roomAccess: [{\n    id: \"3233\",\n    x: 4,\n    y: 3\n  }, {\n    id: \"2233\",\n    x: 3,\n    y: 4\n  }, {\n    id: \"11\",\n    x: 0,\n    y: 0\n  }],\n  roomLimit: -1,\n  // No limit\n  roomPlayers: [],\n  roomWeapons: [\"W6\"]\n}]];\nexport class Gameboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      actions: this.props.actions,\n      // Gameboard grid\n      grid: startGrid,\n      // Tracks all player and weapon locations\n      locations: startLocations,\n      // Tracks current player location\n      currentX: 0,\n      currentY: 0,\n      // Used for movement turn\n      validOptions: [],\n      movementTurn: false\n    };\n    this.handleOnClick = this.handleOnClick.bind(this);\n    this.dims = [parseFloat(500 / this.state.grid.length), parseFloat(500 / this.state.grid[0].length)];\n  }\n\n  handleOnClick(x, y) {\n    if (this.state.movementTurn) {\n      //Check request against valid options from movement request\n      var myArray = this.state.validOptions;\n\n      for (let i = 0; i < myArray.length; i++) {\n        var requestedLoc = [x, y];\n        var found = JSON.stringify(requestedLoc) == JSON.stringify(myArray[i].location);\n\n        if (found) {\n          var index = i;\n          break;\n        }\n      }\n\n      if (found) {\n        alert(\"Valid movement\"); //Send movement request with requested room\n\n        makeMovement(\"true\", myArray[index].movement_id);\n        this.setState({\n          movementTurn: false,\n          validOptions: []\n        });\n      } else {\n        alert(\"Not valid movement\");\n      }\n    } else {\n      alert(\"Not your movement turn\");\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    //console.log(\"getDerivedStateFromProps\");\n    //console.log(\"getDerivedStateFromProps prop:\" + JSON.stringify(props))\n    //console.log(\"getDerivedStateFromProps state:\" + JSON.stringify(state))\n    var newcount = state.count + 1;\n    var newplayerLocations = state.playerLocations;\n    var newGrid = state.grid;\n    var newCurrentX = state.currentX;\n    var newCurrentY = state.currentY;\n    var newmovementTurn = state.movementTurn;\n    var newvalidOptions = state.validOptions;\n    var first = props.actions[0];\n    console.log(\"getDerivedStateFromProps \" + JSON.stringify(first));\n\n    if (first != undefined) {\n      if (first.message_type == 22) {\n        console.log(\"Found movement broadcast\");\n        console.log(JSON.stringify(first.message.character_moved));\n        console.log(JSON.stringify(first.message.weapon_moved));\n\n        if (first.message.character_moved === true) {\n          //alert(\"Found char move\")\n          var index = Number(first.message.moved_character) - 1;\n          console.log(\"Found char move: \" + \" \" + index + \" \" + JSON.stringify(uniqueIDs[index]));\n          var player = uniqueIDs[index].image;\n          console.log(\"PLAYER\" + player);\n          const cx = newplayerLocations[player].currentX;\n          const cy = newplayerLocations[player].currentY;\n          console.log(\"Found Char move: \" + player + \" \" + cx + \" \" + cy);\n          const nx = 4;\n          const ny = 4;\n          console.log(\"CharDerived: \" + JSON.stringify(newGrid[cx][cy]));\n          console.log(\"CharDerived: \" + JSON.stringify(newGrid[nx][ny]));\n\n          if (cx != nx & cy != cy) {\n            var index = newGrid[cx][cy].roomPlayers.indexOf(JSON.stringify(player));\n            console.log(\"CharDerivedIndex: \" + index + \" \" + newGrid[cx][cy].roomPlayers.indexOf(player));\n            newGrid[cx][cy].roomPlayers.splice(index, 1); //Remove current player to old room\n\n            newGrid[nx][ny].roomPlayers.push(player); //Add current player to new room\n            //NEW TO UPDATE CURRENTX AND CURRENTY if currentplayer\n\n            newplayerLocations[player].currentX = nx;\n            newplayerLocations[player].currentY = ny;\n\n            if (player = props.player_id) {\n              newCurrentX = nx;\n              newCurrentY = ny;\n            }\n          } //console.log(\"CharDerived: \" + JSON.stringify(newGrid));\n\n\n          console.log(\"AfterCharDerived: \" + JSON.stringify(newGrid[cx][cy]));\n          console.log(\"AfterCharDerived: \" + JSON.stringify(newGrid[nx][ny]));\n          console.log(\"AfterCharDerived: \" + JSON.stringify(newplayerLocations));\n        }\n\n        if (first.message.weapon_moved === true) {\n          //alert(\"Found weapon move\")\n          var index = Number(first.message.moved_weapon) - 1;\n          console.log(\"Found Weap move: \" + JSON.stringify(uniqueIDs[index]));\n          var player = uniqueIDs[index].image;\n          const cx = newplayerLocations[player].currentX;\n          const cy = newplayerLocations[player].currentY;\n          console.log(\"Found Weap move: \" + player + \" \" + cx + \" \" + cy);\n          const nx = 4;\n          const ny = 4;\n          console.log(\"WeapDerived: \" + JSON.stringify(newGrid[cx][cy]));\n          console.log(\"WeapDerived: \" + JSON.stringify(newGrid[nx][ny]));\n          var index = newGrid[cx][cy].roomWeapons.indexOf(player);\n          newGrid[cx][cy].roomWeapons.splice(index, 1); //Remove current player to old room\n\n          newGrid[nx][ny].roomWeapons.push(player); //Add current player to new room\n          //NEW TO UPDATE CURRENTX AND CURRENTY if currentplayer\n\n          newplayerLocations[player].currentX = nx;\n          newplayerLocations[player].currentY = ny;\n          console.log(\"WeapDerived: \" + JSON.stringify(newplayerLocations));\n        }\n      } else if (first.message_type == 31) {\n        newmovementTurn = true;\n        newvalidOptions = first.message.valid_locations;\n      } else {\n        newmovementTurn = false;\n        newvalidOptions = [];\n      }\n    }\n\n    return {\n      count: newcount,\n      grid: newGrid,\n      playerLocations: newplayerLocations,\n      playerX: newCurrentX,\n      playerY: newCurrentY,\n      movementTurn: newmovementTurn,\n      validOptions: newvalidOptions\n    };\n  }\n\n  provideLocation() {\n    var cx = this.state.locations[this.props.player_id].currentX;\n    var cy = this.state.locations[this.props.player_id].currentY;\n    var result = 'Empty';\n\n    if (cx != -1 && cy != -1) {\n      result = this.state.grid[cx][cy].rooomName;\n    }\n\n    console.log(\"Location: RESULTS\" + result);\n    return result;\n  }\n\n  render() {\n    const style = {\n      margin: \"auto\",\n      width: \"auto\",\n      height: \"auto\",\n      backgroundColor: \"white\",\n      color: \"white\",\n      fontSize: \"3em\",\n      tableLayout: \"fixed\"\n    };\n    const rows = this.state.grid.map((r, i) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: \"row_\" + i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 9\n        }\n      }, r.map((d, j) => {\n        return /*#__PURE__*/React.createElement(Room, {\n          key: i + \"_\" + j,\n          dims: this.dims,\n          onClick: () => {\n            this.handleOnClick(i, j);\n          },\n          contents: d,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 15\n          }\n        });\n      }));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 9\n      }\n    }, \"Player = \", this.props.player_id, \" | X =\", \" \", this.state.locations[this.props.player_id].currentX, \" | Y =\", \" \", this.state.locations[this.props.player_id].currentY), /*#__PURE__*/React.createElement(Box, {\n      actions: this.state.actions,\n      location: this.provideLocation(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      cellSpacing: \"0\",\n      id: \"table\",\n      style: style,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 11\n      }\n    }, rows)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nexport default Gameboard;","map":{"version":3,"sources":["/Users/kathryncrisafulli/Desktop/clueless_git/UnitedCoders/clueless_react/src/Gameboard.js"],"names":["React","Room","Box","makeMovement","uniqueIDs","type","name","image","roomId","gridX","gridY","startLocations","P0","currentX","currentY","P1","P2","P3","P4","P5","P6","W1","W2","W3","W4","W5","W6","startGrid","roomName","roomAccess","id","x","y","roomLimit","roomPlayers","roomWeapons","Gameboard","Component","constructor","props","state","actions","grid","locations","validOptions","movementTurn","handleOnClick","bind","dims","parseFloat","length","myArray","i","requestedLoc","found","JSON","stringify","location","index","alert","movement_id","setState","getDerivedStateFromProps","newcount","count","newplayerLocations","playerLocations","newGrid","newCurrentX","newCurrentY","newmovementTurn","newvalidOptions","first","console","log","undefined","message_type","message","character_moved","weapon_moved","Number","moved_character","player","cx","cy","nx","ny","indexOf","splice","push","player_id","moved_weapon","valid_locations","playerX","playerY","provideLocation","result","rooomName","render","style","margin","width","height","backgroundColor","color","fontSize","tableLayout","rows","map","r","d","j","textAlign"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Room } from \"./Room\";\nimport { Box } from \"./Box\"\nimport {\n  makeMovement\n} from \"./ClientManager\";\n\nvar uniqueIDs = [\n  { type: \"character\", name: \"Miss Scarlet\", image: \"P1\" },\n  { type: \"character\", name: \"Mr. Green\", image: \"P2\" },\n  { type: \"character\", name: \"Colonel Mustard\", image: \"P3\" },\n  { type: \"character\", name: \"Prof. Plum\", image: \"P4\" },\n  { type: \"character\", name: \"Mrs. Peacock\", image: \"P5\" },\n  { type: \"character\", name: \"Mrs. White\", image: \"P6\" },\n  { type: \"weapon\", name: \"Candlestick\", image: \"W1\" },\n  { type: \"weapon\", name: \"Revolver\", image: \"W4\" },\n  { type: \"weapon\", name: \"Knife\", image: \"W2\" },\n  { type: \"weapon\", name: \"Pipe\", image: \"W3\" },\n  { type: \"weapon\", name: \"Rope\", image: \"W5\" },\n  { type: \"weapon\", name: \"Wrench\", image: \"W6\" },\n  { type: \"room\", name: \"Study\", roomId: 33, gridX: 4, gridY: 4},\n  { type: \"room\", name: \"Hall\", roomId: 32, gridX: 2, gridY: 4 },\n  { type: \"room\", name: \"Lounge\", roomId: 31, gridX: 0, gridY: 4},\n  { type: \"room\", name: \"Dinning\", roomId: 21, gridX: 0, gridY: 2},\n  { type: \"room\", name: \"Billiard\", roomId: 22, gridX: 2, gridY: 2},\n  { type: \"room\", name: \"Library\", roomId: 23, gridX: 4, gridY: 2},\n  { type: \"room\", name: \"Conservatory\", roomId: 13, gridX: 4, gridY: 0},\n  { type: \"room\", name: \"Ballroom\", roomId: 12, gridX: 2, gridY: 0},\n  { type: \"room\", name: \"Kitchen\", roomId: 11, gridX: 0, gridY: 0},\n];\n// 7 = Candlestick, X = 0, Y = 0 W1\n// 8 = Revolver, X = 2, Y = 0 W4\n// 9 = Knife, X = 4, Y = 0 W2\n// 10 = Pipe, X = 0, Y = 4 W3\n// 11 = Rope, X = 2, Y = 4 W5\n// 12 = Wrench, X = 4, Y = 4 W6\n\nvar startLocations = {\n  P0: {\n    currentX: -1,\n    currentY: -1,\n  },\n  P1: {\n    currentX: 3,\n    currentY: 4,\n  },\n  P2: {\n    currentX: 4,\n    currentY: 3,\n  },\n  P3: {\n    currentX: 3,\n    currentY: 0,\n  },\n  P4: {\n    currentX: 1,\n    currentY: 0,\n  },\n  P5: {\n    currentX: 0,\n    currentY: 1,\n  },\n  P6: {\n    currentX: 1,\n    currentY: 4,\n  },\n  W1: {\n    currentX: 0,\n    currentY: 0,\n  },\n  W2: {\n    currentX: 4,\n    currentY: 0,\n  },\n  W3: {\n    currentX: 0,\n    currentY: 4,\n  },\n  W4: {\n    currentX: 4,\n    currentY: 0,\n  },\n  W5: {\n    currentX: 2,\n    currentY: 4,\n  },\n  W6: {\n    currentX: 4,\n    currentY: 4,\n  },\n};\n\nvar startGrid = [\n  [\n    {\n      roomId: \"11\",\n      roomName: \"Kitchen\",\n      roomAccess: [\n        { id: \"1112\", x: 0, y: 1 },\n        { id: \"1121\", x: 1, y: 0 },\n        { id: \"33\", x: 4, y: 4 },\n      ],\n      roomLimit: -1, // No limit\n      roomPlayers: [],\n      roomWeapons: [\"W1\"],\n    },\n    {\n      roomId: \"1112\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"11\", x: 0, y: 0 },\n        { id: \"12\", x: 0, y: 2 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [\"P5\"],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"12\",\n      roomName: \"Ballroom\",\n      roomAccess: [\n        { id: \"1112\", x: 0, y: 1 },\n        { id: \"1222\", x: 3, y: 3 },\n        { id: \"1213\", x: 0, y: 3 },\n      ],\n      roomLimit: -1, // No limit\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"1213\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"12\", x: 0, y: 2 },\n        { id: \"13\", x: 0, y: 4 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"13\",\n      roomName: \"Conservatory\",\n      roomAccess: [\n        { id: \"1213\", x: 0, y: 3 },\n        \"1323\",\n        { id: \"31\", x: 4, y: 0 },\n      ],\n      roomLimit: -1, // No limit\n      roomPlayers: [],\n      roomWeapons: [\"W3\"],\n    },\n  ],\n  [\n    {\n      roomId: \"1121\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"11\", x: 0, y: 0 },\n        { id: \"21\", x: 2, y: 0 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [\"P4\"],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"0\",\n      roomName: \"Empty\",\n      roomAccess: [],\n      roomLimit: 0,\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"1222\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"12\", x: 0, y: 2 },\n        { id: \"22\", x: 2, y: 2 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"0\",\n      roomName: \"Empty\",\n      roomAccess: [],\n      roomLimit: 0,\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"1323\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"13\", x: 0, y: 4 },\n        { id: \"23\", x: 2, y: 4 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [\"P6\"],\n      roomWeapons: [],\n    },\n  ],\n  [\n    {\n      roomId: \"21\",\n      roomName: \"Dinning Room\",\n      roomAccess: [\n        { id: \"1121\", x: 1, y: 0 },\n        { id: \"2122\", x: 2, y: 1 },\n        { id: \"2131\", x: 3, y: 0 },\n      ],\n      roomLimit: -1, // No limit\n      roomPlayers: [],\n      roomWeapons: [\"W4\"],\n    },\n    {\n      roomId: \"2122\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"21\", x: 2, y: 0 },\n        { id: \"22\", x: 2, y: 2 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"22\",\n      roomName: \"Billiard Room\",\n      roomAccess: [\n        { id: \"2122\", x: 2, y: 1 },\n        { id: \"1222\", x: 1, y: 2 },\n        { id: \"2223\", x: 2, y: 3 },\n        { id: \"2232\", x: 3, y: 2 },\n      ],\n      roomLimit: -1, // No limit\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"2223\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"22\", x: 2, y: 2 },\n        { id: \"23\", x: 2, y: 4 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"23\",\n      roomName: \"Library\",\n      roomAccess: [\n        { id: \"2223\", x: 2, y: 3 },\n        { id: \"1323\", x: 1, y: 4 },\n        { id: \"2333\", x: 3, y: 4 },\n      ],\n      roomLimit: -1, // No limit\n      roomPlayers: [],\n      roomWeapons: [\"W5\"],\n    },\n  ],\n  [\n    {\n      roomId: \"2131\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"21\", x: 2, y: 0 },\n        { id: \"31\", x: 4, y: 0 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [\"P3\"],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"0\",\n      roomName: \"Empty\",\n      roomAccess: [],\n      roomLimit: 0,\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"2232\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"22\", x: 2, y: 2 },\n        { id: \"32\", x: 4, y: 2 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"0\",\n      roomName: \"Empty\",\n      roomAccess: [],\n      roomLimit: 0,\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"2333\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"23\", x: 2, y: 4 },\n        { id: \"33\", x: 4, y: 4 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [\"P1\"],\n      roomWeapons: [],\n    },\n  ],\n  [\n    {\n      roomId: \"31\",\n      roomName: \"Lounge\",\n      roomAccess: [\n        { id: \"2131\", x: 3, y: 0 },\n        { id: \"3132\", x: 4, y: 1 },\n        { id: \"13\", x: 0, y: 4 },\n      ],\n      roomLimit: -1, // No limit\n      roomPlayers: [],\n      roomWeapons: [\"W2\"],\n    },\n    {\n      roomId: \"3132\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"31\", x: 4, y: 0 },\n        { id: \"32\", x: 4, y: 2 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"32\",\n      roomName: \"Hall\",\n      roomAccess: [\n        { id: \"3132\", x: 4, y: 1 },\n        { id: \"2232\", x: 3, y: 2 },\n        { id: \"3233\", x: 4, y: 3 },\n      ],\n      roomLimit: -1, // No limit\n      roomPlayers: [],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"3233\",\n      roomName: \"Hallway\",\n      roomAccess: [\n        { id: \"32\", x: 4, y: 2 },\n        { id: \"33\", x: 4, y: 4 },\n      ],\n      roomLimit: 1, // Because it is the hallway\n      roomPlayers: [\"P2\"],\n      roomWeapons: [],\n    },\n    {\n      roomId: \"33\",\n      roomName: \"Study\",\n      roomAccess: [\n        { id: \"3233\", x: 4, y: 3 },\n        { id: \"2233\", x: 3, y: 4 },\n        { id: \"11\", x: 0, y: 0 },\n      ],\n      roomLimit: -1, // No limit\n      roomPlayers: [],\n      roomWeapons: [\"W6\"],\n    },\n  ],\n];\n\nexport class Gameboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      actions: this.props.actions,\n\n      // Gameboard grid\n      grid: startGrid,\n\n      // Tracks all player and weapon locations\n      locations: startLocations,\n\n      // Tracks current player location\n      currentX: 0,\n      currentY: 0,\n\n      // Used for movement turn\n      validOptions: [],\n      movementTurn: false,\n    };\n    this.handleOnClick = this.handleOnClick.bind(this);\n    this.dims = [\n      parseFloat(500 / this.state.grid.length),\n      parseFloat(500 / this.state.grid[0].length),\n    ];\n  }\n\n  handleOnClick(x, y) {\n    if (this.state.movementTurn) {\n      //Check request against valid options from movement request\n      var myArray = this.state.validOptions;\n\n      for (let i = 0; i < myArray.length; i++) {\n        var requestedLoc = [x, y];\n        var found =\n          JSON.stringify(requestedLoc) == JSON.stringify(myArray[i].location);\n        if (found) {\n          var index = i;\n          break;\n        }\n      }\n      if (found) {\n        alert(\"Valid movement\");\n\n        //Send movement request with requested room\n        makeMovement(\"true\", myArray[index].movement_id);\n        this.setState({ movementTurn: false, validOptions: [] });\n      } else {\n        alert(\"Not valid movement\");\n      }\n    } else {\n      alert(\"Not your movement turn\");\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    //console.log(\"getDerivedStateFromProps\");\n    //console.log(\"getDerivedStateFromProps prop:\" + JSON.stringify(props))\n    //console.log(\"getDerivedStateFromProps state:\" + JSON.stringify(state))\n\n    var newcount = state.count + 1;\n    var newplayerLocations = state.playerLocations;\n    var newGrid = state.grid;\n    var newCurrentX = state.currentX;\n    var newCurrentY = state.currentY;\n    var newmovementTurn = state.movementTurn;\n    var newvalidOptions = state.validOptions;\n\n    var first = props.actions[0];\n    console.log(\"getDerivedStateFromProps \" + JSON.stringify(first));\n    if (first != undefined) {\n      if (first.message_type == 22) {\n        console.log(\"Found movement broadcast\");\n        console.log(JSON.stringify(first.message.character_moved));\n        console.log(JSON.stringify(first.message.weapon_moved));\n        if (first.message.character_moved === true) {\n          //alert(\"Found char move\")\n          var index = Number(first.message.moved_character) - 1;\n          console.log(\n            \"Found char move: \" +\n              \" \" + index + \" \" + \n              JSON.stringify(uniqueIDs[index])\n          );\n          var player = uniqueIDs[index].image;\n          console.log(\"PLAYER\" + player)\n          const cx = newplayerLocations[player].currentX;\n          const cy = newplayerLocations[player].currentY;\n          console.log(\"Found Char move: \" + player + \" \" + cx + \" \" + cy);\n          const nx = 4;\n          const ny = 4;\n          console.log(\"CharDerived: \" + JSON.stringify(newGrid[cx][cy]));\n          console.log(\"CharDerived: \" + JSON.stringify(newGrid[nx][ny]));\n\n          if ((cx != nx) & (cy != cy)) {\n            var index = newGrid[cx][cy].roomPlayers.indexOf(\n              JSON.stringify(player)\n            );\n            console.log(\n              \"CharDerivedIndex: \" +\n                index +\n                \" \" +\n                newGrid[cx][cy].roomPlayers.indexOf(player)\n            );\n            newGrid[cx][cy].roomPlayers.splice(index, 1); //Remove current player to old room\n            newGrid[nx][ny].roomPlayers.push(player); //Add current player to new room\n            //NEW TO UPDATE CURRENTX AND CURRENTY if currentplayer\n            newplayerLocations[player].currentX = nx;\n            newplayerLocations[player].currentY = ny;\n\n            if ((player = props.player_id)) {\n              newCurrentX = nx;\n              newCurrentY = ny;\n            }\n          }\n\n          //console.log(\"CharDerived: \" + JSON.stringify(newGrid));\n          console.log(\"AfterCharDerived: \" + JSON.stringify(newGrid[cx][cy]));\n          console.log(\"AfterCharDerived: \" + JSON.stringify(newGrid[nx][ny]));\n          console.log(\n            \"AfterCharDerived: \" + JSON.stringify(newplayerLocations)\n          );\n        }\n\n        if (first.message.weapon_moved === true) {\n          //alert(\"Found weapon move\")\n          var index = Number(first.message.moved_weapon) - 1;\n          console.log(\n            \"Found Weap move: \" +\n              JSON.stringify(uniqueIDs[index])\n          );\n          var player = uniqueIDs[index].image;\n          const cx = newplayerLocations[player].currentX;\n          const cy = newplayerLocations[player].currentY;\n          console.log(\"Found Weap move: \" + player + \" \" + cx + \" \" + cy);\n          const nx = 4;\n          const ny = 4;\n          console.log(\"WeapDerived: \" + JSON.stringify(newGrid[cx][cy]));\n          console.log(\"WeapDerived: \" + JSON.stringify(newGrid[nx][ny]));\n\n          var index = newGrid[cx][cy].roomWeapons.indexOf(player);\n          newGrid[cx][cy].roomWeapons.splice(index, 1); //Remove current player to old room\n          newGrid[nx][ny].roomWeapons.push(player); //Add current player to new room\n          //NEW TO UPDATE CURRENTX AND CURRENTY if currentplayer\n          newplayerLocations[player].currentX = nx;\n          newplayerLocations[player].currentY = ny;\n\n          console.log(\"WeapDerived: \" + JSON.stringify(newplayerLocations));\n        }\n      }\n      else if (first.message_type == 31) {\n        newmovementTurn = true;\n        newvalidOptions = first.message.valid_locations;\n      } else {\n        newmovementTurn = false;\n        newvalidOptions = [];\n      }\n    }\n\n    return {\n      count: newcount,\n      grid: newGrid,\n      playerLocations: newplayerLocations,\n      playerX: newCurrentX,\n      playerY: newCurrentY,\n      movementTurn: newmovementTurn,\n      validOptions: newvalidOptions,\n    };\n  }\n\n  provideLocation() {\n    var cx = this.state.locations[this.props.player_id].currentX\n    var cy = this.state.locations[this.props.player_id].currentY\n    var result = 'Empty'\n    \n    if (cx != -1 && cy != -1) {\n      result = this.state.grid[cx][cy].rooomName;\n    }\n    console.log(\"Location: RESULTS\" + result)\n    return result;\n  }\n\n  render() {\n    const style = {\n      margin: \"auto\",\n      width: \"auto\",\n      height: \"auto\",\n      backgroundColor: \"white\",\n      color: \"white\",\n      fontSize: \"3em\",\n      tableLayout: \"fixed\",\n    };\n\n    const rows = this.state.grid.map((r, i) => {\n      return (\n        <tr key={\"row_\" + i}>\n          {r.map((d, j) => {\n            return (\n              <Room\n                key={i + \"_\" + j}\n                dims={this.dims}\n                onClick={() => {\n                  this.handleOnClick(i, j);\n                }}\n                contents={d}\n              />\n            );\n          })}\n        </tr>\n      );\n    });\n    \n    return (\n      <div style={{ textAlign: \"center\" }}>\n        <p>\n          Player = {this.props.player_id} | X ={\" \"}\n          {this.state.locations[this.props.player_id].currentX} | Y ={\" \"}\n          {this.state.locations[this.props.player_id].currentY}\n        </p>\n        <Box actions={this.state.actions} location={this.provideLocation()}/>\n        <br />\n        <table cellSpacing=\"0\" id=\"table\" style={style}>\n          <tbody>{rows}</tbody>\n        </table>\n        <br />\n        <br />\n        <br />\n      </div>\n    );\n  }\n}\n\nexport default Gameboard;\n"]},"metadata":{},"sourceType":"module"}