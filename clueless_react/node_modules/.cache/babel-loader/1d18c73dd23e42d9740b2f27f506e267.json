{"ast":null,"code":"var _jsxFileName = \"/Users/sidneyjackson/Desktop/GitHub Projects/UnitedCoders/clueless_react/src/MessageBoard.js\";\nimport React from \"react\";\nimport \"./MessageBoard.css\";\n\nvar io = require(\"socket.io-client\"); // Start socket and export it for others to use\n\n\nvar url = \"http://localhost:5000\";\nconst socket = io.connect(url);\nexport { socket }; // Player Message\n\nvar playerMessage = \"\";\nvar uniqueIDs = [//0\n{\n  type: \"character\",\n  name: \"Miss Scarlet\",\n  image: \"C1\"\n}, //1\n{\n  type: \"character\",\n  name: \"Mr. Green\",\n  image: \"C2\"\n}, //2\n{\n  type: \"character\",\n  name: \"Colonel Mustard\",\n  image: \"C3\"\n}, //3\n{\n  type: \"character\",\n  name: \"Prof. Plum\",\n  image: \"C4\"\n}, //4\n{\n  type: \"character\",\n  name: \"Mrs. Peacock\",\n  image: \"C5\"\n}, //5\n{\n  type: \"character\",\n  name: \"Mrs. White\",\n  image: \"C6\"\n}, //6\n{\n  type: \"weapon\",\n  name: \"Candlestick\",\n  image: \"W1\"\n}, //7\n{\n  type: \"weapon\",\n  name: \"Revolver\",\n  image: \"W4\"\n}, //8\n{\n  type: \"weapon\",\n  name: \"Knife\",\n  image: \"W2\"\n}, //9\n{\n  type: \"weapon\",\n  name: \"Pipe\",\n  image: \"W3\"\n}, //10\n{\n  type: \"weapon\",\n  name: \"Rope\",\n  image: \"W5\"\n}, //11\n{\n  type: \"weapon\",\n  name: \"Wrench\",\n  image: \"W6\"\n}, //12\n{\n  type: \"room\",\n  name: \"Study\",\n  roomId: 11\n}, //13\n{\n  type: \"room\",\n  name: \"Hall\",\n  roomId: 12\n}, //14\n{\n  type: \"room\",\n  name: \"Lounge\",\n  roomId: 13\n}, //15\n{\n  type: \"room\",\n  name: \"Dinning Room\",\n  roomId: 23\n}, //16\n{\n  type: \"room\",\n  name: \"Billiard Room\",\n  roomId: 22\n}, //17\n{\n  type: \"room\",\n  name: \"Library\",\n  roomId: 21\n}, //18\n{\n  type: \"room\",\n  name: \"Conservatory\",\n  roomId: 31\n}, //19\n{\n  type: \"room\",\n  name: \"Ballroom\",\n  roomId: 32\n}, //20\n{\n  type: \"room\",\n  name: \"Kitchen\",\n  roomId: 33\n}];\n\nclass MessageBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      actions: [] // broadcast: [\"Kathryn\", \"Austin\"]\n\n    };\n    this.state = {\n      username: \"Player\",\n      actions: this.props.actions,\n      broadcast: [\"Kathryn\", \"Austin\"],\n      messages: [\"Kathryn\", \"Austin\"]\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    var newmessages = []; //Filter messages\n\n    if (props.actions != undefined) {\n      var i;\n\n      for (i = 0; i < props.actions.length; i++) {\n        var item = props.actions[i];\n        let string = \"\";\n        let anotherstring = \"\";\n\n        if (item.message_type == 11) {\n          // 11\tPlayer Start\n          //string = \"11 Player Start\"\n          string = \"Player \" + item.message.username + \" joined as character \" + uniqueIDs[item.message.character_id].name;\n        } else if (item.message_type == 21) {\n          // 21\tBroadcast Information\n          //string = \"21\tBroadcast Information\"\n          string = item.message.broadcast_message;\n        } else if (item.message_type == 22) {\n          string = \"22\tBroadcast Movement\";\n\n          if (item.message.character_moved === true) {\n            string = \"Character \" + uniqueIDs[item.message.moved_character].name + \" moved\";\n          }\n\n          if (item.message.weapon_moved === true) {\n            anotherstring = \"Weapon \" + uniqueIDs[item.message.moved_weapon].name + \" moved\";\n          }\n        } else if (item.message_type == 31) {\n          string = \"Movement request. Movement required: \" + item.message.movement_required + \". Movement possible: \" + item.message.movement_possible; //string =\"31\tMovement Request\"\n        } else if (item.message_type == 32) {\n          string = \"Suggestion request\"; // 32\tSuggestion Request\n        } else if (item.message_type == 33) {\n          string = \"Disprove request. Suggested room: \" + uniqueIDs[item.message.suggested_room].name + \" Suggested character: \" + uniqueIDs[item.message.suggested_character].name + \" Suggested weapon: \" + uniqueIDs[item.message.suggested_weapon].name; // 33\tDisprove Request\n        } else if (item.message_type == 34) {\n          string = \"Accusation Request\"; // 34\tAccusation Request\n        } else if (item.message_type == 41) {//alert(\"ERROR IN MESSAGEBOARD\")\n          //41\tMovement Response\n        } else if (item.message_type == 42) {//alert(\"ERROR IN MESSAGEBOARD\")\n          // 42\tSuggestion Response\n        } else if (item.message_type == 43) {//alert(\"ERROR IN MESSAGEBOARD\")\n          // 43\tDisprove Response\n        } else if (item.message_type == 44) {//alert(\"ERROR IN MESSAGEBOARD\")\n          // 44\tAccusation Response\n        } else if (item.message_type == 51) {\n          if (item.message.is_disproven === true) {\n            string = \"Player disproved suggestion with\" + uniqueIDs[item.message.disprove_card].name;\n          } // 51\tSuggestion Result\n\n        } else if (item.message_type == 52) {\n          if (item.message.accusation_correct === true) {\n            string = \"Your accusation was correct!\";\n          } else {\n            string = \"Your accusation was wrong! You're now a REVOKED player. Correct room: \" + uniqueIDs[item.message.correct_room].name + \" Correct character: \" + uniqueIDs[item.message.correct_character].name + \" Correct weapon: \" + uniqueIDs[item.message.correct_weapon].name;\n          } //string =\"test\"\n          // 52\tAccusation Result\n\n        } else if (item.message_type == 61) {\n          string = \"End of the game!\"; // 61\tEnd of Game\n        } else {//alert(\"ERROR IN MESSAGEBOARD\")\n          }\n\n        if (string != \"\") {\n          string = \"Game Notification: \" + string;\n          newmessages.push(string); // TODO: Make this more dynamic.\n        }\n\n        if (anotherstring != \"\") {\n          newmessages.push(anotherstring);\n        } //console.log(\"MESSAGE STRING \" + string)\n        //console.log(\"MESSAGE ANOTHERSTRING \" + anotherstring)\n        //newmessages = [newmessages, ...string];\n        // console.log(\"MESSAGE: \" + newmessages)\n\n      }\n    }\n\n    return {\n      messages: newmessages\n    };\n  }\n\n  render() {\n    // Player Send Message:\n    const sendMessage = () => {\n      // Send Message and clear text.\n      if (document.getElementById(\"messageText\").value) {\n        if (document.getElementById(\"messageText\").value != \"\") {\n          playerMessage = document.getElementById(\"messageText\").value;\n          playerMessage = this.state.username + playerMessage; // LATER (2) | User name needs to be passed as param.\n\n          alert(playerMessage); // socket.emit(22, playerMessage); // LATER (1) | Server Logic Not Yet Implemented for this.\n\n          document.getElementById(\"messageText\").value = \"\";\n        }\n      }\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"messageBoardWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"messageBoardHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }\n    }, \"Player Message Board\"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"liveButtonText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"span\", {\n      class: \"circle liveButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }), \" ACTIVE\")), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"messageBoardBody\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }\n    }, this.state.messages.map(elem => /*#__PURE__*/React.createElement(\"li\", {\n      style: {\n        textAlign: \"left\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 15\n      }\n    }, elem)))), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"messageBoardFooter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"messageText\",\n      type: \"text\",\n      placeholder: \"Enter Message Here...\",\n      class: \"messageTextField\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      onClick: sendMessage,\n      class: \"sendButton \",\n      src: \"./MastheadImages/SendIcon.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default MessageBoard;","map":{"version":3,"sources":["/Users/sidneyjackson/Desktop/GitHub Projects/UnitedCoders/clueless_react/src/MessageBoard.js"],"names":["React","io","require","url","socket","connect","playerMessage","uniqueIDs","type","name","image","roomId","MessageBoard","Component","constructor","props","state","actions","username","broadcast","messages","getDerivedStateFromProps","newmessages","undefined","i","length","item","string","anotherstring","message_type","message","character_id","broadcast_message","character_moved","moved_character","weapon_moved","moved_weapon","movement_required","movement_possible","suggested_room","suggested_character","suggested_weapon","is_disproven","disprove_card","accusation_correct","correct_room","correct_character","correct_weapon","push","render","sendMessage","document","getElementById","value","alert","map","elem","textAlign"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./MessageBoard.css\";\nvar io = require(\"socket.io-client\");\n\n// Start socket and export it for others to use\nvar url = \"http://localhost:5000\";\nconst socket = io.connect(url);\nexport { socket };\n\n// Player Message\nvar playerMessage = \"\";\n\nvar uniqueIDs = [\n  //0\n  { type: \"character\", name: \"Miss Scarlet\", image: \"C1\" },\n  //1\n  { type: \"character\", name: \"Mr. Green\", image: \"C2\" },\n  //2\n  { type: \"character\", name: \"Colonel Mustard\", image: \"C3\" },\n  //3\n  { type: \"character\", name: \"Prof. Plum\", image: \"C4\" },\n  //4\n  { type: \"character\", name: \"Mrs. Peacock\", image: \"C5\" },\n  //5\n  { type: \"character\", name: \"Mrs. White\", image: \"C6\" },\n  //6\n  { type: \"weapon\", name: \"Candlestick\", image: \"W1\" },\n  //7\n  { type: \"weapon\", name: \"Revolver\", image: \"W4\" },\n  //8\n  { type: \"weapon\", name: \"Knife\", image: \"W2\" },\n  //9\n  { type: \"weapon\", name: \"Pipe\", image: \"W3\" },\n  //10\n  { type: \"weapon\", name: \"Rope\", image: \"W5\" },\n  //11\n  { type: \"weapon\", name: \"Wrench\", image: \"W6\" },\n  //12\n  { type: \"room\", name: \"Study\", roomId: 11 },\n  //13\n  { type: \"room\", name: \"Hall\", roomId: 12 },\n  //14\n  { type: \"room\", name: \"Lounge\", roomId: 13 },\n  //15\n  { type: \"room\", name: \"Dinning Room\", roomId: 23 },\n  //16\n  { type: \"room\", name: \"Billiard Room\", roomId: 22 },\n  //17\n  { type: \"room\", name: \"Library\", roomId: 21 },\n  //18\n  { type: \"room\", name: \"Conservatory\", roomId: 31 },\n  //19\n  { type: \"room\", name: \"Ballroom\", roomId: 32 },\n  //20\n  { type: \"room\", name: \"Kitchen\", roomId: 33 },\n];\n\nclass MessageBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"Player\",\n      actions: this.props.actions,\n      broadcast: [\"Kathryn\", \"Austin\"],\n      messages: [\"Kathryn\", \"Austin\"],\n    };\n  }\n  state = {\n    actions: [],\n    // broadcast: [\"Kathryn\", \"Austin\"]\n  };\n\n  static getDerivedStateFromProps(props, state) {\n    var newmessages = [];\n    //Filter messages\n    if (props.actions != undefined) {\n      var i;\n      for (i = 0; i < props.actions.length; i++) {\n        var item = props.actions[i];\n        let string = \"\";\n        let anotherstring = \"\";\n        if (item.message_type == 11) {\n          // 11\tPlayer Start\n          //string = \"11 Player Start\"\n          string =\n            \"Player \" +\n            item.message.username +\n            \" joined as character \" +\n            uniqueIDs[item.message.character_id].name;\n        } else if (item.message_type == 21) {\n          // 21\tBroadcast Information\n          //string = \"21\tBroadcast Information\"\n          string = item.message.broadcast_message;\n        } else if (item.message_type == 22) {\n          string = \"22\tBroadcast Movement\";\n          if (item.message.character_moved === true) {\n            string =\n              \"Character \" +\n              uniqueIDs[item.message.moved_character].name +\n              \" moved\";\n          }\n          if (item.message.weapon_moved === true) {\n            anotherstring =\n              \"Weapon \" + uniqueIDs[item.message.moved_weapon].name + \" moved\";\n          }\n        } else if (item.message_type == 31) {\n          string =\n            \"Movement request. Movement required: \" +\n            item.message.movement_required +\n            \". Movement possible: \" +\n            item.message.movement_possible;\n          //string =\"31\tMovement Request\"\n        } else if (item.message_type == 32) {\n          string = \"Suggestion request\";\n          // 32\tSuggestion Request\n        } else if (item.message_type == 33) {\n          string =\n            \"Disprove request. Suggested room: \" +\n            uniqueIDs[item.message.suggested_room].name +\n            \" Suggested character: \" +\n            uniqueIDs[item.message.suggested_character].name +\n            \" Suggested weapon: \" +\n            uniqueIDs[item.message.suggested_weapon].name;\n          // 33\tDisprove Request\n        } else if (item.message_type == 34) {\n          string = \"Accusation Request\";\n          // 34\tAccusation Request\n        } else if (item.message_type == 41) {\n          //alert(\"ERROR IN MESSAGEBOARD\")\n          //41\tMovement Response\n        } else if (item.message_type == 42) {\n          //alert(\"ERROR IN MESSAGEBOARD\")\n          // 42\tSuggestion Response\n        } else if (item.message_type == 43) {\n          //alert(\"ERROR IN MESSAGEBOARD\")\n          // 43\tDisprove Response\n        } else if (item.message_type == 44) {\n          //alert(\"ERROR IN MESSAGEBOARD\")\n          // 44\tAccusation Response\n        } else if (item.message_type == 51) {\n          if (item.message.is_disproven === true) {\n            string =\n              \"Player disproved suggestion with\" +\n              uniqueIDs[item.message.disprove_card].name;\n          }\n          // 51\tSuggestion Result\n        } else if (item.message_type == 52) {\n          if (item.message.accusation_correct === true) {\n            string = \"Your accusation was correct!\";\n          } else {\n            string =\n              \"Your accusation was wrong! You're now a REVOKED player. Correct room: \" +\n              uniqueIDs[item.message.correct_room].name +\n              \" Correct character: \" +\n              uniqueIDs[item.message.correct_character].name +\n              \" Correct weapon: \" +\n              uniqueIDs[item.message.correct_weapon].name;\n          }\n          //string =\"test\"\n          // 52\tAccusation Result\n        } else if (item.message_type == 61) {\n          string = \"End of the game!\";\n          // 61\tEnd of Game\n        } else {\n          //alert(\"ERROR IN MESSAGEBOARD\")\n        }\n        if (string != \"\") {\n          string = \"Game Notification: \" + string;\n          newmessages.push(string); // TODO: Make this more dynamic.\n        }\n        if (anotherstring != \"\") {\n          newmessages.push(anotherstring);\n        }\n        //console.log(\"MESSAGE STRING \" + string)\n        //console.log(\"MESSAGE ANOTHERSTRING \" + anotherstring)\n        //newmessages = [newmessages, ...string];\n        // console.log(\"MESSAGE: \" + newmessages)\n      }\n    }\n    return { messages: newmessages };\n  }\n\n  render() {\n    // Player Send Message:\n    const sendMessage = () => {\n      // Send Message and clear text.\n      if (document.getElementById(\"messageText\").value) {\n        if (document.getElementById(\"messageText\").value != \"\") {\n          playerMessage = document.getElementById(\"messageText\").value;\n          playerMessage = this.state.username + playerMessage; // LATER (2) | User name needs to be passed as param.\n          alert(playerMessage);\n          // socket.emit(22, playerMessage); // LATER (1) | Server Logic Not Yet Implemented for this.\n          document.getElementById(\"messageText\").value = \"\";\n        }\n      }\n    };\n\n    return (\n      <div class=\"messageBoardWrapper\">\n        <span class=\"messageBoardHeader\">\n          <span class=\"title\">Player Message Board</span>\n          <span class=\"liveButtonText\">\n            {\" \"}\n            <span class=\"circle liveButton\"></span> ACTIVE\n          </span>\n        </span>\n        <span class=\"messageBoardBody\">\n          <ul>\n            {this.state.messages.map((elem) => (\n              <li\n                style={{\n                  textAlign: \"left\",\n                }}\n              >\n                {elem}\n              </li>\n            ))}\n          </ul>\n        </span>\n        <span class=\"messageBoardFooter\">\n          <form>\n            <input\n              id=\"messageText\"\n              type=\"text\"\n              placeholder=\"Enter Message Here...\"\n              class=\"messageTextField\"\n            ></input>\n            <img\n              onClick={sendMessage}\n              class=\"sendButton \"\n              src=\"./MastheadImages/SendIcon.png\"\n            />\n          </form>\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default MessageBoard;\n"]},"metadata":{},"sourceType":"module"}